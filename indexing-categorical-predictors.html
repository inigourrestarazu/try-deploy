<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Inigo Urrestarazu-Porta">
<meta name="dcterms.date" content="2025-07-09">
<meta name="keywords" content="Categorical predictors, Indexing, Sum-coding, Indicator, Interaction, Bayesian statistics">

<title>How to fit models with categorical predictors</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="indexing-categorical-predictors_files/libs/clipboard/clipboard.min.js"></script>
<script src="indexing-categorical-predictors_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="indexing-categorical-predictors_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="indexing-categorical-predictors_files/libs/quarto-html/popper.min.js"></script>
<script src="indexing-categorical-predictors_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="indexing-categorical-predictors_files/libs/quarto-html/anchor.min.js"></script>
<link href="indexing-categorical-predictors_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="indexing-categorical-predictors_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="indexing-categorical-predictors_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="indexing-categorical-predictors_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="indexing-categorical-predictors_files/libs/bootstrap/bootstrap-af3b0b53a274c7d4e75779d930f447fb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="indexing-categorical-predictors_files/libs/quarto-contrib/jquery-3.6.3/jquery-3.6.3.min.js"></script>
<script src="indexing-categorical-predictors_files/libs/quarto-contrib/code-fullscreen-1.0.0/code-fullscreen.js" defer="true"></script>
<link href="indexing-categorical-predictors_files/libs/quarto-contrib/code-fullscreen-1.0.0/code-fullscreen.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#some-basic-terminology" id="toc-some-basic-terminology" class="nav-link" data-scroll-target="#some-basic-terminology">Some basic terminology</a></li>
  <li><a href="#sec-data" id="toc-sec-data" class="nav-link" data-scroll-target="#sec-data">The data: <span class="citation" data-cites="salig2024">Salig et al. (2024)</span></a></li>
  <li><a href="#sec-treatments" id="toc-sec-treatments" class="nav-link" data-scroll-target="#sec-treatments">Treatments of categorical predictors</a>
  <ul class="collapse">
  <li><a href="#sec-treatments-indicator" id="toc-sec-treatments-indicator" class="nav-link" data-scroll-target="#sec-treatments-indicator">Indicator treatment</a>
  <ul class="collapse">
  <li><a href="#fitting-the-model" id="toc-fitting-the-model" class="nav-link" data-scroll-target="#fitting-the-model">Fitting the model</a></li>
  </ul></li>
  <li><a href="#sec-treatments-sum" id="toc-sec-treatments-sum" class="nav-link" data-scroll-target="#sec-treatments-sum">Sum-coding treatment</a>
  <ul class="collapse">
  <li><a href="#fitting-the-model-1" id="toc-fitting-the-model-1" class="nav-link" data-scroll-target="#fitting-the-model-1">Fitting the model</a></li>
  <li><a href="#output-of-the-model" id="toc-output-of-the-model" class="nav-link" data-scroll-target="#output-of-the-model">Output of the model</a></li>
  <li><a href="#conditional-means" id="toc-conditional-means" class="nav-link" data-scroll-target="#conditional-means">Conditional means</a></li>
  </ul></li>
  <li><a href="#sec-treatments-indexing" id="toc-sec-treatments-indexing" class="nav-link" data-scroll-target="#sec-treatments-indexing">Indexing treatment</a>
  <ul class="collapse">
  <li><a href="#fitting-the-model-2" id="toc-fitting-the-model-2" class="nav-link" data-scroll-target="#fitting-the-model-2">Fitting the model</a></li>
  <li><a href="#output-of-the-model-1" id="toc-output-of-the-model-1" class="nav-link" data-scroll-target="#output-of-the-model-1">Output of the model</a></li>
  <li><a href="#difference-between-levels" id="toc-difference-between-levels" class="nav-link" data-scroll-target="#difference-between-levels">Difference between levels</a></li>
  <li><a href="#marginal-mean" id="toc-marginal-mean" class="nav-link" data-scroll-target="#marginal-mean">Marginal mean</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#interactions" id="toc-interactions" class="nav-link" data-scroll-target="#interactions">Interactions</a>
  <ul class="collapse">
  <li><a href="#explanation-of-interaction-with-numeric-predictors" id="toc-explanation-of-interaction-with-numeric-predictors" class="nav-link" data-scroll-target="#explanation-of-interaction-with-numeric-predictors">Explanation of interaction with numeric predictors</a></li>
  <li><a href="#interaction-between-categorical-and-continuous-predictors" id="toc-interaction-between-categorical-and-continuous-predictors" class="nav-link" data-scroll-target="#interaction-between-categorical-and-continuous-predictors">Interaction between categorical and continuous predictors</a></li>
  <li><a href="#interaction-between-two-or-more-categorical-predictors" id="toc-interaction-between-two-or-more-categorical-predictors" class="nav-link" data-scroll-target="#interaction-between-two-or-more-categorical-predictors">Interaction between two (or more) categorical predictors</a></li>
  </ul></li>
  <li><a href="#pros-and-cons-of-each-approach" id="toc-pros-and-cons-of-each-approach" class="nav-link" data-scroll-target="#pros-and-cons-of-each-approach">Pros and cons of each approach</a></li>
  <li><a href="#sec-bayes" id="toc-sec-bayes" class="nav-link" data-scroll-target="#sec-bayes">Treatment of categorical predictors in Bayesian regression</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#session-info" id="toc-session-info" class="nav-link" data-scroll-target="#session-info">Session info</a></li>
  <li><a href="#funding" id="toc-funding" class="nav-link" data-scroll-target="#funding">Funding</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="indexing-categorical-predictors.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">How to fit models with categorical predictors</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Inigo Urrestarazu-Porta <a href="mailto:inigo.urrestarazu@ehu.eus" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-4606-3977" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            CNRS – IKER UMR5478
          </p>
        <p class="affiliation">
            University of the Basque Country (UPV/EHU)
          </p>
        <p class="affiliation">
            University of Pau and the Countries of Adour (UPPA)
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 9, 2025</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>Blablabla this is the abstract. And this is more of the abstract</p>
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>Categorical predictors, Indexing, Sum-coding, Indicator, Interaction, Bayesian statistics</p>
  </div>
</div>

</header>


<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in file(con, "r"): cannot open file
'scripts/05-frequentist-interaction.R': No such file or directory</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error in file(con, "r"): cannot open the connection</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr) <span class="co"># pipe operator</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># easy manipulation</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># plot</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdist) <span class="co"># plot distributions</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geomtextpath) <span class="co"># text to plots</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork) <span class="co"># combine plots</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># set basic theme</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>( <span class="co"># theme</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">base_size =</span> <span class="dv">16</span> <span class="co"># size of non-graph</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    , <span class="at">base_family =</span> <span class="st">'Carlito'</span> <span class="co"># font</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in library(kableExtra): there is no package called 'kableExtra'</code></pre>
</div>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Linear regression can only be numerically applied to continuous predictors. Categorical predictors are, by definition, non-continuous and, thus, require a work-around for estimation. There are three main such work-arounds: treating categorical predictors as indicators or dummies, sum-coding them, or indexing the levels of categorical predictors.</p>
<p><em>Aim of the work.</em></p>
<p>Our examples and code will be based on R <span class="citation" data-cites="base">(<a href="#ref-base" role="doc-biblioref">R Core Team 2025</a>)</span>. R is a programming language designed specifically for statistics and data analysis and, to date, it remains the most commonly used programming language to that end. Frequentist hierarchical regression models are implemented with <code>lme4</code> [REFS] package, and Bayesian hierarchical regression models with <code>brms</code> [REFS], an interface to the probabilistic programming language Stan [REFS]</p>
</section>
<section id="some-basic-terminology" class="level1">
<h1>Some basic terminology</h1>
<p>The explanation will pivot around three main concepts: <em>intercept</em>, <em>slope</em> and <em>level</em>. In this section, those concepts are defined to ensure that the exposition on the different treatments of categorical predictors can be followed. Finally, conditional and marginal means and weighted averages are introduced.</p>
<p>The first two concepts, <em>intercept</em> and <em>slope</em>, are not, in fact, related to categorical variables, but to linear regression with continuous variables.</p>
<ul>
<li><p>Intercept: the value of the response or dependent variable, when all (continuous) predictors are 0. For instance, suppose in an investigation of the accuracy (ACC) of L2 speakers in a given task as a function of the years spent learning the second language (ACC ~ years). The intercept would be the average accuracy at 0 years spent learning the L2. If the minimum years spent learning the L2 in the data set are subtracted from each value and regress accuracy on the minimum-centered years, the intercept would be the average accuracy at 0 minimum-centered years spent learning the L2, i.e.&nbsp;the average accuracy at the minimum age in the data set.</p></li>
<li><p>Slope: the change in the response variable for each 1-unit change in a continuous predictor. Retaking the previous example, the slope of years spent learning the L2 would be the change in accuracy for a 1-year difference in years spent the L2, e.g.&nbsp;the difference in accuracy between having spent 2 or 3 years —or any two years 1 unit apart— learning the L2.</p></li>
</ul>
<p><em>Levels</em> are exclusive of factors or categorical variables.</p>
<ul>
<li>Level: Each of the distinct units of a factor or categorical variable. For example, if investigating between-language differences, <em>language</em> is a factor or categorical variable —a variable that can only take a fixed set of values—, and each language in the data set are levels, e.g.&nbsp;Basque or Finish.</li>
</ul>
<p>Finally, we introduce conditional, marginal and weighted means, since a clear understanding of thse concepts will make it easier to understand how the approaches to treating categorical predictors differ. However, these three concepts may be better explained through an example.</p>
<p>Suppose there are only two languages in the world, A and B, and 30% of the world’s population speaks language A, and 70% speak language B. Next, imagine that, on average, syllables have a duration of 200 milliseconds in language A, whilst in language B syllables have a mean duration of 300 milliseconds. The mean duration of syllables in language A and language B are their respective conditional means, 200 and 300 ms. In other words, conditional means are the expected average outcome, given some value of another variable, in this case, given language A or language B.</p>
<p>As indicated by the name, weighted means are combinations of conditional means, given some weights. For instance, if language A and language B were weighted equally —technically, any weighting can be used, the syllables would have a weighted mean of <span class="math inline">\(\frac{200 + 300}{2} = 200 \times 0.5 + 300 \times 0.5 =\)</span> 250 ms.</p>
<p>However, in this particular case, it is known that there are more speakers to language B than to language A. 30% of the world’s population is a speaker of language A, and the remaining 70% is a speaker of language B. Hence, the conditional means of the average syllable duration of language A and language B could be weighted by their probability distribution, and get the marginal mean duration of syllables in the world’s languages. In this toy example, the marginal syllable duration would be <span class="math inline">\(200 \times 0.3 + 300 \times 0.7 =\)</span> 270 ms. Hence, a marginal mean is a particular kind of weighted mean of conditional means, where the weights come from the probability distribution of the variable that it is conditioned on.</p>
</section>
<section id="sec-data" class="level1">
<h1>The data: <span class="citation" data-cites="salig2024">Salig et al. (<a href="#ref-salig2024" role="doc-biblioref">2024</a>)</span></h1>
<p>It is often hard to reuse real data collected for scientific purposes because it requires a great familiarity with the research or even the discipline in hand. For instance, using measures used in phonetics may pose a burden on linguists that do not work in phonetics.</p>
<p>An alternative approach would be to simulate the data. However, simulating the data requires a steady walk through the simulation code, Yet, the goal lays in illustrating how to fit models with categorical predictors, and we do not want to shift the focus of this work towards how to simulate (realistic) data (in R).</p>
<p>Hence, the data in <span class="citation" data-cites="salig2024">Salig et al. (<a href="#ref-salig2024" role="doc-biblioref">2024</a>)</span> will be utilised. The data in <span class="citation" data-cites="salig2024">Salig et al. (<a href="#ref-salig2024" role="doc-biblioref">2024</a>)</span> is real data collected for scientific purposes within linguistics. Although understanding the exact goals, background and impact in the field of the study requires as much understanding as any other piece of research, the data can be simplified enough to be accessible to a wide range of readers within linguistics or, more broadly, the cognitive sciences.</p>
<p>The data consist of reading times in milliseconds (ms) of sentences by English-Spanish bilinguals, whose dominant language is English overall. The data were collected from a classic 2x2 <em>within-participant</em> design, where sentences could start either in English or in Spanish; then, the sentences remained in the language in which they started, or the language could be switch to the other one after some point. Thus, the reading time values come from one of the following four possibilities:</p>
<div class="cell" data-tbl-cap-location="top">
<div id="tbl-design-grid-html" class="cell quarto-float quarto-figure quarto-figure-center anchored" data-tbl-cap-location="top">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-design-grid-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Design grid in <span class="citation" data-cites="salig2024">Salig et al. (<a href="#ref-salig2024" role="doc-biblioref">2024</a>)</span>
</figcaption>
<div aria-describedby="tbl-design-grid-html-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="twcheskjcy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#twcheskjcy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#twcheskjcy thead, #twcheskjcy tbody, #twcheskjcy tfoot, #twcheskjcy tr, #twcheskjcy td, #twcheskjcy th {
  border-style: none;
}

#twcheskjcy p {
  margin: 0;
  padding: 0;
}

#twcheskjcy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#twcheskjcy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#twcheskjcy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#twcheskjcy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#twcheskjcy .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#twcheskjcy .gt_bottom_border {
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#twcheskjcy .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: none;
  border-bottom-width: 1px;
  border-bottom-color: #334422;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#twcheskjcy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 12px;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#twcheskjcy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 12px;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#twcheskjcy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#twcheskjcy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#twcheskjcy .gt_column_spanner {
  border-bottom-style: none;
  border-bottom-width: 1px;
  border-bottom-color: #334422;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#twcheskjcy .gt_spanner_row {
  border-bottom-style: hidden;
}

#twcheskjcy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#twcheskjcy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#twcheskjcy .gt_from_md > :first-child {
  margin-top: 0;
}

#twcheskjcy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#twcheskjcy .gt_row {
  padding-top: 7px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#twcheskjcy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#twcheskjcy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#twcheskjcy .gt_row_group_first td {
  border-top-width: 2px;
}

#twcheskjcy .gt_row_group_first th {
  border-top-width: 2px;
}

#twcheskjcy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#twcheskjcy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#twcheskjcy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#twcheskjcy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#twcheskjcy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#twcheskjcy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#twcheskjcy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#twcheskjcy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#twcheskjcy .gt_table_body {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #FFFFFF;
}

#twcheskjcy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#twcheskjcy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#twcheskjcy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#twcheskjcy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#twcheskjcy .gt_left {
  text-align: left;
}

#twcheskjcy .gt_center {
  text-align: center;
}

#twcheskjcy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#twcheskjcy .gt_font_normal {
  font-weight: normal;
}

#twcheskjcy .gt_font_bold {
  font-weight: bold;
}

#twcheskjcy .gt_font_italic {
  font-style: italic;
}

#twcheskjcy .gt_super {
  font-size: 65%;
}

#twcheskjcy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#twcheskjcy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#twcheskjcy .gt_indent_1 {
  text-indent: 5px;
}

#twcheskjcy .gt_indent_2 {
  text-indent: 10px;
}

#twcheskjcy .gt_indent_3 {
  text-indent: 15px;
}

#twcheskjcy .gt_indent_4 {
  text-indent: 20px;
}

#twcheskjcy .gt_indent_5 {
  text-indent: 25px;
}

#twcheskjcy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#twcheskjcy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table do-not-create-environment cell caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="a::stub" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="color: #A9A9A9; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">Language</th>
<th id="a+-switch" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="color: #A9A9A9; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">+ switch</th>
<th id="a--switch" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="color: #A9A9A9; font-family: 'Source Sans Pro'; text-transform: uppercase" scope="col">- switch</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">English</td>
<td class="gt_row gt_left" headers="stub_1_1 + switch" style="font-family: 'Source Sans Pro'; font-weight: 400">English + switch</td>
<td class="gt_row gt_left" headers="stub_1_1 - switch" style="font-family: 'Source Sans Pro'; font-weight: 400">English - switch</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">Spanish</td>
<td class="gt_row gt_left" headers="stub_1_2 + switch" style="font-family: 'Source Sans Pro'; font-weight: 400">Spanish + switch</td>
<td class="gt_row gt_left" headers="stub_1_2 - switch" style="font-family: 'Source Sans Pro'; font-weight: 400">Spanish - switch</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</figure>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>salig.df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">'data/salig2024.csv'</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># variable renaming</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># to type less</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># subject id to S</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^id$'</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'S'</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># group to G</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co"># otherwise marginaleffects does tot work</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^group$'</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'G'</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co"># reaction times to T</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^QuestionRT$'</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'T'</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="co"># baselang to L</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^baselang$'</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'L'</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="co"># item number to I</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^itemnum$'</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'I'</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The data in <span class="citation" data-cites="salig2024">Salig et al. (<a href="#ref-salig2024" role="doc-biblioref">2024</a>)</span> are summarised in the following figure:</p>
<div class="cell">
<div id="fig-descriptive-empirical" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-descriptive-empirical-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="fig-descriptive-empirical" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-descriptive-empirical-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="indexing-categorical-predictors_files/figure-html/fig-descriptive-empirical-1.png" class="img-fluid figure-img" data-ref-parent="fig-descriptive-empirical">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-descriptive-empirical-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Four elements summarise the information, the point and intervals, the densities, the grey shadows, and the jittered points. The point shows the median reading time, and the intervals contain 50%, 75% and 95% of obserservations. The densities are smoothed distributions of the data set. The gray shadows are observations; hence, the darker the shadow, the more observations there are in that area. Finally, the smaller jittered points indicate the mean of each participant for that condition.
</figcaption>
</figure>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-descriptive-empirical-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Summary of the empirical reading times (log-ms) in <span class="citation" data-cites="salig2024">Salig et al. (<a href="#ref-salig2024" role="doc-biblioref">2024</a>)</span>, by experimental condition.
</figcaption>
</figure>
</div>
</div>
<p>In addition to the four conditions, namely English monolingual, English with code-switching, Spanish monolingual and Spanish with code-switching, the data have repeated measures for participant and sentence / experimental unit.</p>
<p>With these data a number of frequentist generalised hierarchical regression models will be fitted. Firstly, we will illustrate the three main ways of treating categorical predictors, with a single categorical predictor. Then, a second categorical predictor will be incorporated to explain what <em>interaction</em>s mean in the context of categorical predictors. Finally, the same approaches will be applied to Bayesian regression models, since treatment given to categorical predictors impacts the parameters to be estimated directly from the model and, thus, the priors that have to be incorporated to the model.</p>
</section>
<section id="sec-treatments" class="level1">
<h1>Treatments of categorical predictors</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom.mixed)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(emmeans)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(marginaleffects)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in library(marginaleffects): there is no package called 'marginaleffects'</code></pre>
</div>
</div>
<p>In this section the three main ways of treating categorical predictors within linear regression will be presented, namely treating categorical predictors as indicators, sum-coding them, and treating them as indexes. To that end, the data in <span class="citation" data-cites="salig2024">Salig et al. (<a href="#ref-salig2024" role="doc-biblioref">2024</a>)</span> will be used, as described in <a href="#sec-data" class="quarto-xref">Section&nbsp;3</a>. Although the data have two relevant categorical predictors, language and code-switching, the three approaches will be first illustrated using language as the only categorical predictor. This will allow to focus in the differences between these approaches, before moving to combinations of (categorical) predictors.</p>
<p>However, we highlight that three approaches lead to the same results —as shown in <a href="#sec-bayes" class="quarto-xref">Section&nbsp;7</a>, the treatment given to categorical predictors may slightly influence the exact results in Bayesian regression models—, and that the same information can be recovered regardless of the treatment given to the categorical predictor(s). Thus, the difference between treatments lays in how the results of the model are presented. Besides, in the published literature examples of all three treatments can be found. Hence, it is crucial to understand them and their differences to correctly interpret the results of studies.</p>
<p>First, indicator treatment is discussed, and the terms <em>intercept</em>, <em>conditional mean</em> and <em>grand mean</em> —or, sometimes, <em>marginal mean</em>— are illustrated. Then how sum-coding works is explained, and finally indexing of categorical predictors is introduced.</p>
<section id="sec-treatments-indicator" class="level2">
<h2 class="anchored" data-anchor-id="sec-treatments-indicator">Indicator treatment</h2>
<p>When treated as indicators (also called <em>dummy variables</em> or <em>dummies</em>), a level of the categorical predictor is taken as the reference, and the remaining levels are expressed as differences from that reference. Indicator treatment is the default treatment of categorical predictors in R. If the categorical predictor is coded as an vector object of class <em>factor</em>, the reference level will be the first level specified in the factor. In turn, if there is no particular order specified, i.e.&nbsp;the categorical predictor is a vector of class <em>character</em>, the reference will be the level that comes first in alphabetical order. The reference level is labelled as <em>intercept</em> in the output of model, even if it is not the average value of the outcome, when all (continuous) predictors are 0 —recall the definition of the term <em>intercept</em> above.</p>
<section id="fitting-the-model" class="level3">
<h3 class="anchored" data-anchor-id="fitting-the-model">Fitting the model</h3>
<p>Since R treats the categorical predictors as indicators by default, just adding the categorical predictor to the model formula returns this treatment. <code>+ 1</code> can be added to the formula, between the tilde <code>~</code> and the first predictor, to explicitly indicate that the model should be fitted with an <em>intercept</em>. Hence, both formulas are equivalent.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fit-treatment-indicator</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent formula</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>These are the population-level (or fixed) estimates of a model with a two-level categorical predictor treated as an indicator.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract population-level estimates</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># from the model</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>indicator.lang.coef <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  fit.lang.indicator</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co"># the first two columns of the</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy output are irrelevant</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># and I don't want std error and statistic</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co"># obtain the colnames</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co"># just to keep the relevant ones</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(indicator.lang.coef)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>indicator.lang.coef <span class="ot">&lt;-</span> indicator.lang.coef[</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  indicator.lang.coef<span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grepl</span>(</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'term|^est|^conf'</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    , cols</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>indicator.lang.coef <span class="sc">%&gt;%</span> </span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'conf'</span>)</span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'term'</span></span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="lnbyebtvvy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#lnbyebtvvy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#lnbyebtvvy thead, #lnbyebtvvy tbody, #lnbyebtvvy tfoot, #lnbyebtvvy tr, #lnbyebtvvy td, #lnbyebtvvy th {
  border-style: none;
}

#lnbyebtvvy p {
  margin: 0;
  padding: 0;
}

#lnbyebtvvy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lnbyebtvvy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#lnbyebtvvy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lnbyebtvvy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lnbyebtvvy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lnbyebtvvy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lnbyebtvvy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lnbyebtvvy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lnbyebtvvy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lnbyebtvvy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lnbyebtvvy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lnbyebtvvy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lnbyebtvvy .gt_spanner_row {
  border-bottom-style: hidden;
}

#lnbyebtvvy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#lnbyebtvvy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lnbyebtvvy .gt_from_md > :first-child {
  margin-top: 0;
}

#lnbyebtvvy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#lnbyebtvvy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lnbyebtvvy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#lnbyebtvvy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#lnbyebtvvy .gt_row_group_first td {
  border-top-width: 2px;
}

#lnbyebtvvy .gt_row_group_first th {
  border-top-width: 2px;
}

#lnbyebtvvy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lnbyebtvvy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#lnbyebtvvy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#lnbyebtvvy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lnbyebtvvy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lnbyebtvvy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lnbyebtvvy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#lnbyebtvvy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lnbyebtvvy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lnbyebtvvy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lnbyebtvvy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lnbyebtvvy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lnbyebtvvy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#lnbyebtvvy .gt_left {
  text-align: left;
}

#lnbyebtvvy .gt_center {
  text-align: center;
}

#lnbyebtvvy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lnbyebtvvy .gt_font_normal {
  font-weight: normal;
}

#lnbyebtvvy .gt_font_bold {
  font-weight: bold;
}

#lnbyebtvvy .gt_font_italic {
  font-style: italic;
}

#lnbyebtvvy .gt_super {
  font-size: 65%;
}

#lnbyebtvvy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#lnbyebtvvy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#lnbyebtvvy .gt_indent_1 {
  text-indent: 5px;
}

#lnbyebtvvy .gt_indent_2 {
  text-indent: 10px;
}

#lnbyebtvvy .gt_indent_3 {
  text-indent: 15px;
}

#lnbyebtvvy .gt_indent_4 {
  text-indent: 20px;
}

#lnbyebtvvy .gt_indent_5 {
  text-indent: 25px;
}

#lnbyebtvvy .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#lnbyebtvvy div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="a::stub" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="a95%-CI" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">95% CI</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row">(Intercept)</td>
<td class="gt_row gt_right" headers="stub_1_1 estimate">7.48</td>
<td class="gt_row gt_left" headers="stub_1_1 95% CI">[7.4, 7.55]</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row">LSpanish</td>
<td class="gt_row gt_right" headers="stub_1_2 estimate">0.34</td>
<td class="gt_row gt_left" headers="stub_1_2 95% CI">[0.24, 0.45]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The model returns two parameters, namely <em>(Intercept)</em> and <em>LSpanish</em>, one per level of the categorical predictor added to the regression formula. Yet, the parameter <em>(Intercept)</em> does not represent the average reading time when all predictors are 0. Since the sole categorical predictor added to the regression is categorical, it cannot be 0. It must be either <em>English</em> or <em>Spanish</em>. Hence, the intercept of a model fitted with categorical predictors as indicators represents the average response when all numeric predictor are 0, and the categorical predictor(s) are at their reference level(s). In other words, the <em>intercept</em> is the conditional mean of the reference level of the categorical predictor —when all numeric predictors are 0, i.e.&nbsp;it is the mean reaction time, conditional on being an <em>English</em> sentence —<em>English</em> comes before <em>Spanish</em> alphabetically— and every other predictor being equal to 0. Since there are no other predictors, it can be said that it is the conditional mean of <em>English</em> sentences.</p>
<p>Then, <em>LSpanish</em> is the difference between the average reading time of the Spanish sentences and the intercept, the average reading time of the English sentences —when all numeric predictors are 0. In other words, <em>LSpanish</em> is the <em>pairwise comparison</em> between the levels of the categorical predictor <em>L</em>, when all numerical predictors are 0. In this case, there is no other predictor than <em>L</em>, but note that these pairwise comparisons need not be performed when the rest of the predictors are 0, and that the result of these comparisons might not be the same for different values of the rest of the categorical predictors.</p>
<p>Although the output of models fitted with categorical predictors as indicators only returns the conditional mean of the reference level of the categorical predictor(s) —labelled as the <code>Intercept</code>—, the rest of the conditional means can be retrieved afterwards.</p>
<p>…</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>cmeans.emmeans <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(fit.lang.indicator, <span class="sc">~</span> L)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>cmeans.emmeans <span class="sc">%&gt;%</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    L</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    , emmean</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    , asymp.LCL</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    , asymp.UCL</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>      , asymp.LCL</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>      , asymp.UCL</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'asymp'</span>)</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'L'</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="gruzpuwmgj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gruzpuwmgj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gruzpuwmgj thead, #gruzpuwmgj tbody, #gruzpuwmgj tfoot, #gruzpuwmgj tr, #gruzpuwmgj td, #gruzpuwmgj th {
  border-style: none;
}

#gruzpuwmgj p {
  margin: 0;
  padding: 0;
}

#gruzpuwmgj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gruzpuwmgj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gruzpuwmgj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gruzpuwmgj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gruzpuwmgj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gruzpuwmgj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gruzpuwmgj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gruzpuwmgj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gruzpuwmgj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gruzpuwmgj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gruzpuwmgj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gruzpuwmgj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gruzpuwmgj .gt_spanner_row {
  border-bottom-style: hidden;
}

#gruzpuwmgj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gruzpuwmgj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gruzpuwmgj .gt_from_md > :first-child {
  margin-top: 0;
}

#gruzpuwmgj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gruzpuwmgj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gruzpuwmgj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gruzpuwmgj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gruzpuwmgj .gt_row_group_first td {
  border-top-width: 2px;
}

#gruzpuwmgj .gt_row_group_first th {
  border-top-width: 2px;
}

#gruzpuwmgj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gruzpuwmgj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gruzpuwmgj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gruzpuwmgj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gruzpuwmgj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gruzpuwmgj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gruzpuwmgj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gruzpuwmgj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gruzpuwmgj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gruzpuwmgj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gruzpuwmgj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gruzpuwmgj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gruzpuwmgj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gruzpuwmgj .gt_left {
  text-align: left;
}

#gruzpuwmgj .gt_center {
  text-align: center;
}

#gruzpuwmgj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gruzpuwmgj .gt_font_normal {
  font-weight: normal;
}

#gruzpuwmgj .gt_font_bold {
  font-weight: bold;
}

#gruzpuwmgj .gt_font_italic {
  font-style: italic;
}

#gruzpuwmgj .gt_super {
  font-size: 65%;
}

#gruzpuwmgj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gruzpuwmgj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gruzpuwmgj .gt_indent_1 {
  text-indent: 5px;
}

#gruzpuwmgj .gt_indent_2 {
  text-indent: 10px;
}

#gruzpuwmgj .gt_indent_3 {
  text-indent: 15px;
}

#gruzpuwmgj .gt_indent_4 {
  text-indent: 20px;
}

#gruzpuwmgj .gt_indent_5 {
  text-indent: 25px;
}

#gruzpuwmgj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#gruzpuwmgj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="a::stub" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="emmean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">emmean</th>
<th id="a95%-CI" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">95% CI</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">English</td>
<td class="gt_row gt_right" headers="stub_1_1 emmean">7.48</td>
<td class="gt_row gt_left" headers="stub_1_1 95% CI">[7.4, 7.55]</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_center gt_stub" data-quarto-table-cell-role="th" scope="row">Spanish</td>
<td class="gt_row gt_right" headers="stub_1_2 emmean">7.82</td>
<td class="gt_row gt_left" headers="stub_1_2 95% CI">[7.73, 7.91]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>cmeans.marginaleffects <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.indicator</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="st">'L'</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">'L'</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in predictions(fit.lang.indicator, variables = "L", by = "L", re.form = NA): could not find function "predictions"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>cmeans.marginaleffects <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    L</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    , estimate</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    , <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'L'</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error: object 'cmeans.marginaleffects' not found</code></pre>
</div>
</div>
<p>Finally, weighted averages can be calculated too.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(fit.lang.indicator, <span class="sc">~</span> <span class="dv">1</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    , emmean</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    , asymp.LCL</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    , asymp.UCL</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>      , asymp.LCL</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>      , asymp.UCL</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'asymp'</span>)</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tykmrgszzv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#tykmrgszzv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#tykmrgszzv thead, #tykmrgszzv tbody, #tykmrgszzv tfoot, #tykmrgszzv tr, #tykmrgszzv td, #tykmrgszzv th {
  border-style: none;
}

#tykmrgszzv p {
  margin: 0;
  padding: 0;
}

#tykmrgszzv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#tykmrgszzv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#tykmrgszzv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#tykmrgszzv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#tykmrgszzv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tykmrgszzv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tykmrgszzv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#tykmrgszzv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#tykmrgszzv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#tykmrgszzv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#tykmrgszzv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#tykmrgszzv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#tykmrgszzv .gt_spanner_row {
  border-bottom-style: hidden;
}

#tykmrgszzv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#tykmrgszzv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#tykmrgszzv .gt_from_md > :first-child {
  margin-top: 0;
}

#tykmrgszzv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#tykmrgszzv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#tykmrgszzv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#tykmrgszzv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#tykmrgszzv .gt_row_group_first td {
  border-top-width: 2px;
}

#tykmrgszzv .gt_row_group_first th {
  border-top-width: 2px;
}

#tykmrgszzv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tykmrgszzv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#tykmrgszzv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#tykmrgszzv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tykmrgszzv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#tykmrgszzv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#tykmrgszzv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#tykmrgszzv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#tykmrgszzv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#tykmrgszzv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tykmrgszzv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tykmrgszzv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#tykmrgszzv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#tykmrgszzv .gt_left {
  text-align: left;
}

#tykmrgszzv .gt_center {
  text-align: center;
}

#tykmrgszzv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#tykmrgszzv .gt_font_normal {
  font-weight: normal;
}

#tykmrgszzv .gt_font_bold {
  font-weight: bold;
}

#tykmrgszzv .gt_font_italic {
  font-style: italic;
}

#tykmrgszzv .gt_super {
  font-size: 65%;
}

#tykmrgszzv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#tykmrgszzv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#tykmrgszzv .gt_indent_1 {
  text-indent: 5px;
}

#tykmrgszzv .gt_indent_2 {
  text-indent: 10px;
}

#tykmrgszzv .gt_indent_3 {
  text-indent: 15px;
}

#tykmrgszzv .gt_indent_4 {
  text-indent: 20px;
}

#tykmrgszzv .gt_indent_5 {
  text-indent: 25px;
}

#tykmrgszzv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#tykmrgszzv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="emmean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">emmean</th>
<th id="a95%-CI" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">95% CI</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="emmean">7.65</td>
<td class="gt_row gt_left" headers="95% CI">[7.58, 7.71]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.indicator</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># without the next 2 lines</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># it returns the marginal avg</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># with the weights in the dataset</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="st">'L'</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> T</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in predictions(fit.lang.indicator, variables = "L", by = T, re.form = NA): could not find function "predictions"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    , estimate</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    , <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error: object 'gmean.marginaleffects' not found</code></pre>
</div>
</div>
</section>
</section>
<section id="sec-treatments-sum" class="level2">
<h2 class="anchored" data-anchor-id="sec-treatments-sum">Sum-coding treatment</h2>
<p>Next, we shall discuss sum-coding. Sum-coding consists of replacing the levels of the categorical predictor(s) with (equidistant) numeric values so that their sum equals to 1. For instance, with a 2-level categorical predictor, one level would be replaced with -.5, and the other with .5. Another common sum-coding scheme is -1/1, instead of -.5/.5.</p>
<p>When sum-coded, the categorical predictors become computationally like any continuous predictor. Thus, unlike with indicator treatment, sum-coding returns an intercept estimate, and that estimate is a true intercept. The intercept of a model with sum-coded categorical predictors represents the mean response variable, when all predictors are 0, including the categorical predictor(s). This means that the intercept is the weighted mean between the levels of the categorical predictor, assuming all levels are equally distributed, i.e.&nbsp;it is the mean of the means of all the levels of the categorical predictor(s). If there are no numeric predictors to consider, the intercept of the model with sum-coded categorical predictors will be the marginal mean.</p>
<p>The interpretation of the slope of the sum-coded predictor depends on the exact sum-coding scheme used. When using a -1/1 scheme, the slope represents the distance from each level to the grand mean (or sometimes the marginal mean) of the data set, and it answers to the question “Do the levels of the categorical predictor differ from the grand mean?”. Half that estimate would be, if the categorical predictors has just 2 levels, the difference directly obtained from the model where the categorical predictor was treated as an indicator, i.e.&nbsp;the difference between the levels of the categorical predictors. The difference between levels is the meaning of the slope when the categorical predictor(s) are sum-coded following the -.5/.5 scheme.</p>
<section id="fitting-the-model-1" class="level3">
<h3 class="anchored" data-anchor-id="fitting-the-model-1">Fitting the model</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>salig.df<span class="sc">$</span>s1_l <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  salig.df<span class="sc">$</span>L <span class="sc">==</span> <span class="st">'English'</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  , <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  , <span class="dv">1</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>salig.df<span class="sc">$</span>s<span class="fl">.5</span>_l <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  salig.df<span class="sc">$</span>L <span class="sc">==</span> <span class="st">'English'</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  , <span class="sc">-</span>.<span class="dv">5</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  , .<span class="dv">5</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fit.lang.sum<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> s1_l <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>fit.lang.sum<span class="fl">.05</span> <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> s<span class="fl">.5</span>_l <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Alternatively, sum-coding can be set as the default treatment of all categorical predictors , although the only possible sum-coding scheme for categorical predictors with two levels is -1/1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># change default contrast method</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># to sum-coding</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># R handles it under the hood</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">contrasts =</span> <span class="fu">c</span>(<span class="st">'contr.sum'</span>,<span class="st">'contr.sum'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When the default treatment is set to sum-coding, the predictors provided to the regression are the original ones, and R handles the transformation to numeric values under the hood. For instance, we would run the following code to run the exact same regression as before; note that the name of the categorical predictor is exactly the same as in the indicator treatment, and not the ‘s_’ variable that we created before.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent formula</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="output-of-the-model" class="level3">
<h3 class="anchored" data-anchor-id="output-of-the-model">Output of the model</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.5</span> <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  fit.lang.sum<span class="fl">.05</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.5</span> <span class="ot">&lt;-</span> </span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  scoded.lang.coef<span class="fl">.5</span>[</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    scoded.lang.coef<span class="fl">.5</span><span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># cols inherited from the indicator model</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    , cols[<span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(scoded.lang.coef<span class="fl">.5</span>)]</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.1</span> <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  fit.lang.sum<span class="fl">.1</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.1</span> <span class="ot">&lt;-</span> </span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  scoded.lang.coef<span class="fl">.1</span>[</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>    scoded.lang.coef<span class="fl">.1</span><span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>    , cols[<span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(scoded.lang.coef<span class="fl">.1</span>)]</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="conditional-means" class="level3">
<h3 class="anchored" data-anchor-id="conditional-means">Conditional means</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">5.</span>emm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.05</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    , <span class="sc">~</span> s<span class="fl">.5</span>_l</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'pbkrtest.limit = 9024' (or larger)
[or, globally, 'set emm_options(pbkrtest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'lmerTest.limit = 9024' (or larger)
[or, globally, 'set emm_options(lmerTest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">1.</span>emm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.1</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    , <span class="sc">~</span> s1_l</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'pbkrtest.limit = 9024' (or larger)
[or, globally, 'set emm_options(pbkrtest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.
Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'lmerTest.limit = 9024' (or larger)
[or, globally, 'set emm_options(lmerTest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">5.</span>marg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.05</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">'s.5_l'</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in predictions(fit.lang.sum.05, by = "s.5_l", re.form = NA): could not find function "predictions"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">1.</span>marg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.1</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">'s1_l'</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in predictions(fit.lang.sum.1, by = "s1_l", re.form = NA): could not find function "predictions"</code></pre>
</div>
</div>
</section>
</section>
<section id="sec-treatments-indexing" class="level2">
<h2 class="anchored" data-anchor-id="sec-treatments-indexing">Indexing treatment</h2>
<p>When indexing the categorical predictor the model estimates a conditional mean for each level of the predictor, and no contrast between them. Hence, the interpretation of the output of the model is straightforward, but the contrasts have to be computed afterwards.</p>
<section id="fitting-the-model-2" class="level3">
<h3 class="anchored" data-anchor-id="fitting-the-model-2">Fitting the model</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>fit.lang.index <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="output-of-the-model-1" class="level3">
<h3 class="anchored" data-anchor-id="output-of-the-model-1">Output of the model</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract population-level estimates</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># from the model</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>index.lang.coef <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  fit.lang.index</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>index.lang.coef <span class="ot">&lt;-</span> index.lang.coef[</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  index.lang.coef<span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grepl</span>(</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'term|^est|^conf'</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>    , cols</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>index.lang.coef <span class="sc">%&gt;%</span> </span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'conf'</span>)</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'term'</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="wyvdeycxsq" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#wyvdeycxsq table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#wyvdeycxsq thead, #wyvdeycxsq tbody, #wyvdeycxsq tfoot, #wyvdeycxsq tr, #wyvdeycxsq td, #wyvdeycxsq th {
  border-style: none;
}

#wyvdeycxsq p {
  margin: 0;
  padding: 0;
}

#wyvdeycxsq .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wyvdeycxsq .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#wyvdeycxsq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wyvdeycxsq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wyvdeycxsq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wyvdeycxsq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wyvdeycxsq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wyvdeycxsq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wyvdeycxsq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wyvdeycxsq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wyvdeycxsq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wyvdeycxsq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wyvdeycxsq .gt_spanner_row {
  border-bottom-style: hidden;
}

#wyvdeycxsq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#wyvdeycxsq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wyvdeycxsq .gt_from_md > :first-child {
  margin-top: 0;
}

#wyvdeycxsq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#wyvdeycxsq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wyvdeycxsq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#wyvdeycxsq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#wyvdeycxsq .gt_row_group_first td {
  border-top-width: 2px;
}

#wyvdeycxsq .gt_row_group_first th {
  border-top-width: 2px;
}

#wyvdeycxsq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wyvdeycxsq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#wyvdeycxsq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#wyvdeycxsq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wyvdeycxsq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wyvdeycxsq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wyvdeycxsq .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#wyvdeycxsq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wyvdeycxsq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wyvdeycxsq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wyvdeycxsq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wyvdeycxsq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wyvdeycxsq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#wyvdeycxsq .gt_left {
  text-align: left;
}

#wyvdeycxsq .gt_center {
  text-align: center;
}

#wyvdeycxsq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wyvdeycxsq .gt_font_normal {
  font-weight: normal;
}

#wyvdeycxsq .gt_font_bold {
  font-weight: bold;
}

#wyvdeycxsq .gt_font_italic {
  font-style: italic;
}

#wyvdeycxsq .gt_super {
  font-size: 65%;
}

#wyvdeycxsq .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#wyvdeycxsq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#wyvdeycxsq .gt_indent_1 {
  text-indent: 5px;
}

#wyvdeycxsq .gt_indent_2 {
  text-indent: 10px;
}

#wyvdeycxsq .gt_indent_3 {
  text-indent: 15px;
}

#wyvdeycxsq .gt_indent_4 {
  text-indent: 20px;
}

#wyvdeycxsq .gt_indent_5 {
  text-indent: 25px;
}

#wyvdeycxsq .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#wyvdeycxsq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="a::stub" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col"></th>
<th id="estimate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">estimate</th>
<th id="a95%-CI" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">95% CI</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td id="stub_1_1" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row">LEnglish</td>
<td class="gt_row gt_right" headers="stub_1_1 estimate">7.48</td>
<td class="gt_row gt_left" headers="stub_1_1 95% CI">[7.4, 7.55]</td>
</tr>
<tr class="even">
<td id="stub_1_2" class="gt_row gt_left gt_stub" data-quarto-table-cell-role="th" scope="row">LSpanish</td>
<td class="gt_row gt_right" headers="stub_1_2 estimate">7.82</td>
<td class="gt_row gt_left" headers="stub_1_2 95% CI">[7.73, 7.91]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="difference-between-levels" class="level3">
<h3 class="anchored" data-anchor-id="difference-between-levels">Difference between levels</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>index.dif.emm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.index, pairwise <span class="sc">~</span> L</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>contrasts</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'pbkrtest.limit = 9024' (or larger)
[or, globally, 'set emm_options(pbkrtest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'lmerTest.limit = 9024' (or larger)
[or, globally, 'set emm_options(lmerTest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.</code></pre>
</div>
</div>
</section>
<section id="marginal-mean" class="level3">
<h3 class="anchored" data-anchor-id="marginal-mean">Marginal mean</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(fit.lang.index, <span class="sc">~</span> <span class="dv">1</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'pbkrtest.limit = 9024' (or larger)
[or, globally, 'set emm_options(pbkrtest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Note: D.f. calculations have been disabled because the number of observations exceeds 3000.
To enable adjustments, add the argument 'lmerTest.limit = 9024' (or larger)
[or, globally, 'set emm_options(lmerTest.limit = 9024)' or larger];
but be warned that this may result in large computation time and memory use.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    , emmean</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    , asymp.LCL</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    , asymp.UCL</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>      , asymp.LCL</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>      , asymp.UCL</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'asymp'</span>)</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="aidfhmjokv" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#aidfhmjokv table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#aidfhmjokv thead, #aidfhmjokv tbody, #aidfhmjokv tfoot, #aidfhmjokv tr, #aidfhmjokv td, #aidfhmjokv th {
  border-style: none;
}

#aidfhmjokv p {
  margin: 0;
  padding: 0;
}

#aidfhmjokv .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#aidfhmjokv .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#aidfhmjokv .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#aidfhmjokv .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#aidfhmjokv .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aidfhmjokv .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aidfhmjokv .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#aidfhmjokv .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#aidfhmjokv .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#aidfhmjokv .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#aidfhmjokv .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#aidfhmjokv .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#aidfhmjokv .gt_spanner_row {
  border-bottom-style: hidden;
}

#aidfhmjokv .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#aidfhmjokv .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#aidfhmjokv .gt_from_md > :first-child {
  margin-top: 0;
}

#aidfhmjokv .gt_from_md > :last-child {
  margin-bottom: 0;
}

#aidfhmjokv .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#aidfhmjokv .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#aidfhmjokv .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#aidfhmjokv .gt_row_group_first td {
  border-top-width: 2px;
}

#aidfhmjokv .gt_row_group_first th {
  border-top-width: 2px;
}

#aidfhmjokv .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aidfhmjokv .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#aidfhmjokv .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#aidfhmjokv .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aidfhmjokv .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#aidfhmjokv .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#aidfhmjokv .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#aidfhmjokv .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#aidfhmjokv .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#aidfhmjokv .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aidfhmjokv .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aidfhmjokv .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#aidfhmjokv .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#aidfhmjokv .gt_left {
  text-align: left;
}

#aidfhmjokv .gt_center {
  text-align: center;
}

#aidfhmjokv .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#aidfhmjokv .gt_font_normal {
  font-weight: normal;
}

#aidfhmjokv .gt_font_bold {
  font-weight: bold;
}

#aidfhmjokv .gt_font_italic {
  font-style: italic;
}

#aidfhmjokv .gt_super {
  font-size: 65%;
}

#aidfhmjokv .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#aidfhmjokv .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#aidfhmjokv .gt_indent_1 {
  text-indent: 5px;
}

#aidfhmjokv .gt_indent_2 {
  text-indent: 10px;
}

#aidfhmjokv .gt_indent_3 {
  text-indent: 15px;
}

#aidfhmjokv .gt_indent_4 {
  text-indent: 20px;
}

#aidfhmjokv .gt_indent_5 {
  text-indent: 25px;
}

#aidfhmjokv .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#aidfhmjokv div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="emmean" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">emmean</th>
<th id="a95%-CI" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">95% CI</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="emmean">7.65</td>
<td class="gt_row gt_left" headers="95% CI">[7.58, 7.71]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    fit.lang.index</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="st">'L'</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> T</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in predictions(fit.lang.index, re.form = NA, variables = "L", by = T): could not find function "predictions"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>    , estimate</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>    , <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error: object 'gmean.marginaleffects' not found</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="interactions" class="level1">
<h1>Interactions</h1>
<section id="explanation-of-interaction-with-numeric-predictors" class="level2">
<h2 class="anchored" data-anchor-id="explanation-of-interaction-with-numeric-predictors">Explanation of interaction with numeric predictors</h2>
</section>
<section id="interaction-between-categorical-and-continuous-predictors" class="level2">
<h2 class="anchored" data-anchor-id="interaction-between-categorical-and-continuous-predictors">Interaction between categorical and continuous predictors</h2>
</section>
<section id="interaction-between-two-or-more-categorical-predictors" class="level2">
<h2 class="anchored" data-anchor-id="interaction-between-two-or-more-categorical-predictors">Interaction between two (or more) categorical predictors</h2>
</section>
</section>
<section id="pros-and-cons-of-each-approach" class="level1">
<h1>Pros and cons of each approach</h1>
</section>
<section id="sec-bayes" class="level1">
<h1>Treatment of categorical predictors in Bayesian regression</h1>
<p>The treatment of categorical predictors is not inherently different in Bayesian regression. Yet, one of the crucial differences between Bayesian and traditional, frequentist statistics is that the former incorporates prior information, knowledge or belief in the form of prior distributions of the parameters that will be estimated by the model. As we have shown before, all three treatments allow to recover the same pieces of information. However, the exact parameters estimated by the model change depending on the treatment given to categorical predictors. Hence, the treatment given to categorical predictors determines which prior distributions have to be supplied to the model.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load package</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co"># auto-parallel</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># use as many cores as chains</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co"># if ncores &lt;= nchains</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">mc.cores =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>())</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co"># use threading (split chains)</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>rstan<span class="sc">::</span><span class="fu">rstan_options</span>(<span class="at">threads_per_chain =</span> <span class="dv">2</span>)</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co"># write stan code to temp file</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>rstan<span class="sc">::</span><span class="fu">rstan_options</span>(<span class="at">auto_write =</span> <span class="cn">TRUE</span>)</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co"># use cmdstanr backend</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="co"># it's much faster</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">brms.backend =</span> <span class="st">"cmdstanr"</span>)</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="co"># call it explicitly</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="co"># so that it's cited directly</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a><span class="co"># otherwise it is used under the hood</span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="co"># but grateful does not pick it</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cmdstanr)</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a><span class="co"># seed for models</span></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure exact replication</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>When treating categorical predictors as indicators, a prior for the <em>intercept</em>, i.e.&nbsp;the reference level, has to be provided, alongside priors for the differences for the rest of the intercepts. Besides, if there are interactions between multiple predictors, priors for those interactions are needed. This is problematic to some extent, since we are covertly assuming that the conditional means of the levels that are not the reference have a greater uncertainty than the reference level <span class="citation" data-cites="mcelreath2020">(<a href="#ref-mcelreath2020" role="doc-biblioref">McElreath 2020</a>, p.)</span>.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
</section>
<section id="session-info" class="level1">
<h1>Session info</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># grateful to create a text</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co"># with the packages used directly</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="co"># dependencies are not cited</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># because some are creating a problem</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co"># with R4.5</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>grateful<span class="sc">::</span><span class="fu">cite_packages</span>(</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">'paragraph'</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  , <span class="at">out.dir =</span> (<span class="st">'.'</span>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  , <span class="at">pkgs =</span> <span class="st">'All'</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>  , <span class="at">cite.tidyverse =</span> F</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  , <span class="at">omit =</span> <span class="cn">NULL</span> <span class="co"># include grateful</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>  , <span class="at">include.RStudio =</span> F</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>  , <span class="at">dependencies =</span> F</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in (function (pkg, lib.loc = NULL) : there is no package called 'kableExtra'</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># obtain session info</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.5.0 (2025-04-11)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.2 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

time zone: Etc/UTC
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
 [1] cmdstanr_0.9.0      brms_2.22.0         Rcpp_1.0.14        
 [4] emmeans_1.11.1      broom.mixed_0.2.9.6 broom_1.0.8        
 [7] lme4_1.1-37         Matrix_1.7-3        gtExtras_0.6.0     
[10] gt_1.0.0            viridis_0.6.5       viridisLite_0.4.2  
[13] patchwork_1.3.0     geomtextpath_0.1.5  ggdist_3.3.3       
[16] ggplot2_3.5.2       tidyr_1.3.1         dplyr_1.1.4        
[19] magrittr_2.0.3     

loaded via a namespace (and not attached):
 [1] Rdpack_2.6.4         gridExtra_2.3        grateful_0.2.12     
 [4] inline_0.3.21        rematch2_2.1.2       rlang_1.1.6         
 [7] furrr_0.3.1          matrixStats_1.5.0    compiler_4.5.0      
[10] loo_2.8.0.9000       systemfonts_1.2.3    vctrs_0.6.5         
[13] stringr_1.5.1        pkgconfig_2.0.3      fastmap_1.2.0       
[16] backports_1.5.0      fontawesome_0.5.3    labeling_0.4.3      
[19] rmarkdown_2.29       ps_1.9.1             nloptr_2.2.1        
[22] purrr_1.0.4          xfun_0.52            jsonlite_2.0.0      
[25] parallel_4.5.0       R6_2.6.1             stringi_1.8.7       
[28] RColorBrewer_1.1-3   StanHeaders_2.32.10  parallelly_1.45.0   
[31] boot_1.3-31          estimability_1.5.1   rstan_2.32.7        
[34] knitr_1.50           bayesplot_1.12.0     splines_4.5.0       
[37] tidyselect_1.2.1     abind_1.4-8          yaml_2.3.10         
[40] codetools_0.2-20     curl_6.3.0           processx_3.8.6      
[43] listenv_0.9.1        pkgbuild_1.4.8       lattice_0.22-7      
[46] tibble_3.2.1         withr_3.0.2          bridgesampling_1.1-2
[49] posterior_1.6.1      coda_0.19-4.1        evaluate_1.0.3      
[52] future_1.58.0        RcppParallel_5.1.10  xml2_1.3.8          
[55] pillar_1.10.2        tensorA_0.36.2.1     checkmate_2.3.2     
[58] renv_1.1.4           stats4_4.5.0         reformulas_0.4.1    
[61] distributional_0.5.0 generics_0.1.4       paletteer_1.6.0     
[64] rstantools_2.4.0     scales_1.4.0         minqa_1.2.8         
[67] globals_0.18.0       glue_1.8.0           tools_4.5.0         
[70] forcats_1.0.0        mvtnorm_1.3-3        grid_4.5.0          
[73] rbibutils_2.3        QuickJSR_1.7.0       nlme_3.1-168        
[76] cli_3.6.5            textshaping_1.0.1    Brobdingnag_1.2-9   
[79] V8_6.0.4             gtable_0.3.6         sass_0.4.10         
[82] digest_0.6.37        htmlwidgets_1.6.4    farver_2.1.2        
[85] htmltools_0.5.8.1    lifecycle_1.0.4      MASS_7.3-65         </code></pre>
</div>
</div>
</section>
<section id="funding" class="level1">
<h1>Funding</h1>
<p></p>
</section>
<section id="references" class="level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-mcelreath2020" class="csl-entry" role="listitem">
McElreath, Richard. 2020. <em>Statistical <span>Rethinking</span></em>. Second edition. Chapman &amp; <span>Hall</span>/<span>CRC</span> Texts in Statistical Science Series. Boca Raton: Taylor &amp; Francis Group.
</div>
<div id="ref-base" class="csl-entry" role="listitem">
R Core Team. 2025. <em><span>R</span>: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-salig2024" class="csl-entry" role="listitem">
Salig, Lauren K., Jorge R. Valdés Kroff, L. Robert Slevc, and Jared M. Novick. 2024. <span>“Linking Frequency to Bilingual Switch Costs During Real-Time Sentence Comprehension.”</span> <em>Bilingualism: Language and Cognition</em> 27 (1): 25–40. <a href="https://doi.org/10.1017/S1366728923000366">https://doi.org/10.1017/S1366728923000366</a>.
</div>
</div>
</section>


<div id="quarto-appendix" class="default"><section id="appendix-code-used" class="level1 appendix unnumbered"><h2 class="anchored quarto-appendix-heading">Appendix: Code used</h2><div class="quarto-appendix-contents">

<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/00-setup-packages.R'</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/01-data-design-grid.R'</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/02-read-data.R'</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/03-plot-descriptive.R'</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/04-frequentist-lang-indicator.R'</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/05-frequentist-lang-scoded.R'</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/06-frequentist-lang-indexed.R'</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/05-frequentist-interaction.R'</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">'scripts/99-session-info.R'</span></span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a><span class="co">#___ tbl-design-grid-html</span></span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>design.tb <span class="sc">%&gt;%</span> </span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create gt object</span></span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>(</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># languages as rownames</span></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">rowname_col =</span> <span class="st">'language'</span></span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">tab_stubhead</span>(<span class="at">label =</span> <span class="st">"Language"</span>) <span class="sc">%&gt;%</span> <span class="co"># add theming</span></span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>  gtExtras<span class="sc">::</span><span class="fu">gt_theme_nytimes</span>()</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a><span class="co">#___ tbl-design-grid-pdf</span></span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>design.tb <span class="sc">%&gt;%</span> </span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>(</span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a>    , <span class="at">booktabs =</span> T</span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(</span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_width =</span> F</span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>    , <span class="at">latex_options =</span> <span class="st">'striped'</span></span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a>salig.df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(</span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a>  <span class="st">'data/salig2024.csv'</span></span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-54"><a href="#cb55-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-55"><a href="#cb55-55" aria-hidden="true" tabindex="-1"></a><span class="co"># variable renaming</span></span>
<span id="cb55-56"><a href="#cb55-56" aria-hidden="true" tabindex="-1"></a><span class="co"># to type less</span></span>
<span id="cb55-57"><a href="#cb55-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-58"><a href="#cb55-58" aria-hidden="true" tabindex="-1"></a><span class="co"># subject id to S</span></span>
<span id="cb55-59"><a href="#cb55-59" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb55-60"><a href="#cb55-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb55-61"><a href="#cb55-61" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^id$'</span></span>
<span id="cb55-62"><a href="#cb55-62" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'S'</span></span>
<span id="cb55-63"><a href="#cb55-63" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb55-64"><a href="#cb55-64" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-65"><a href="#cb55-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-66"><a href="#cb55-66" aria-hidden="true" tabindex="-1"></a><span class="co"># group to G</span></span>
<span id="cb55-67"><a href="#cb55-67" aria-hidden="true" tabindex="-1"></a><span class="co"># otherwise marginaleffects does tot work</span></span>
<span id="cb55-68"><a href="#cb55-68" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb55-69"><a href="#cb55-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb55-70"><a href="#cb55-70" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^group$'</span></span>
<span id="cb55-71"><a href="#cb55-71" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'G'</span></span>
<span id="cb55-72"><a href="#cb55-72" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb55-73"><a href="#cb55-73" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-74"><a href="#cb55-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-75"><a href="#cb55-75" aria-hidden="true" tabindex="-1"></a><span class="co"># reaction times to T</span></span>
<span id="cb55-76"><a href="#cb55-76" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb55-77"><a href="#cb55-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb55-78"><a href="#cb55-78" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^QuestionRT$'</span></span>
<span id="cb55-79"><a href="#cb55-79" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'T'</span></span>
<span id="cb55-80"><a href="#cb55-80" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb55-81"><a href="#cb55-81" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-82"><a href="#cb55-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-83"><a href="#cb55-83" aria-hidden="true" tabindex="-1"></a><span class="co"># baselang to L</span></span>
<span id="cb55-84"><a href="#cb55-84" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb55-85"><a href="#cb55-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb55-86"><a href="#cb55-86" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^baselang$'</span></span>
<span id="cb55-87"><a href="#cb55-87" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'L'</span></span>
<span id="cb55-88"><a href="#cb55-88" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb55-89"><a href="#cb55-89" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-90"><a href="#cb55-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-91"><a href="#cb55-91" aria-hidden="true" tabindex="-1"></a><span class="co"># item number to I</span></span>
<span id="cb55-92"><a href="#cb55-92" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(salig.df) <span class="ot">&lt;-</span> </span>
<span id="cb55-93"><a href="#cb55-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gsub</span>(</span>
<span id="cb55-94"><a href="#cb55-94" aria-hidden="true" tabindex="-1"></a>    <span class="st">'^itemnum$'</span></span>
<span id="cb55-95"><a href="#cb55-95" aria-hidden="true" tabindex="-1"></a>    , <span class="st">'I'</span></span>
<span id="cb55-96"><a href="#cb55-96" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">colnames</span>(salig.df)</span>
<span id="cb55-97"><a href="#cb55-97" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-98"><a href="#cb55-98" aria-hidden="true" tabindex="-1"></a>salig.df <span class="sc">%&gt;%</span> </span>
<span id="cb55-99"><a href="#cb55-99" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create a variable named combination</span></span>
<span id="cb55-100"><a href="#cb55-100" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for the discrete positions in the y axis</span></span>
<span id="cb55-101"><a href="#cb55-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-102"><a href="#cb55-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">combination =</span> <span class="fu">paste</span>(L, currtrial)</span>
<span id="cb55-103"><a href="#cb55-103" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-104"><a href="#cb55-104" aria-hidden="true" tabindex="-1"></a>  <span class="co"># plot start</span></span>
<span id="cb55-105"><a href="#cb55-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(</span>
<span id="cb55-106"><a href="#cb55-106" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb55-107"><a href="#cb55-107" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> combination</span>
<span id="cb55-108"><a href="#cb55-108" aria-hidden="true" tabindex="-1"></a>      , <span class="at">x =</span> <span class="fu">log</span>(T)</span>
<span id="cb55-109"><a href="#cb55-109" aria-hidden="true" tabindex="-1"></a>      , <span class="at">fill =</span> L</span>
<span id="cb55-110"><a href="#cb55-110" aria-hidden="true" tabindex="-1"></a>      , <span class="at">color =</span> L</span>
<span id="cb55-111"><a href="#cb55-111" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-112"><a href="#cb55-112" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-113"><a href="#cb55-113" aria-hidden="true" tabindex="-1"></a>  <span class="co"># jitter of means of participants</span></span>
<span id="cb55-114"><a href="#cb55-114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(</span>
<span id="cb55-115"><a href="#cb55-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> . <span class="sc">%&gt;%</span> </span>
<span id="cb55-116"><a href="#cb55-116" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(</span>
<span id="cb55-117"><a href="#cb55-117" aria-hidden="true" tabindex="-1"></a>        S, combination, L</span>
<span id="cb55-118"><a href="#cb55-118" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-119"><a href="#cb55-119" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(</span>
<span id="cb55-120"><a href="#cb55-120" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fu">mean</span>(<span class="fu">log</span>(T))</span>
<span id="cb55-121"><a href="#cb55-121" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb55-122"><a href="#cb55-122" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">aes</span>(</span>
<span id="cb55-123"><a href="#cb55-123" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> x</span>
<span id="cb55-124"><a href="#cb55-124" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-125"><a href="#cb55-125" aria-hidden="true" tabindex="-1"></a>    , <span class="at">width =</span> <span class="dv">0</span></span>
<span id="cb55-126"><a href="#cb55-126" aria-hidden="true" tabindex="-1"></a>    , <span class="at">height =</span> .<span class="dv">06</span></span>
<span id="cb55-127"><a href="#cb55-127" aria-hidden="true" tabindex="-1"></a>    , <span class="at">alpha =</span> .<span class="dv">3</span></span>
<span id="cb55-128"><a href="#cb55-128" aria-hidden="true" tabindex="-1"></a>    , <span class="at">size =</span> .<span class="dv">8</span></span>
<span id="cb55-129"><a href="#cb55-129" aria-hidden="true" tabindex="-1"></a>    <span class="co"># rings</span></span>
<span id="cb55-130"><a href="#cb55-130" aria-hidden="true" tabindex="-1"></a>    , <span class="at">shape =</span> <span class="dv">1</span></span>
<span id="cb55-131"><a href="#cb55-131" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-132"><a href="#cb55-132" aria-hidden="true" tabindex="-1"></a>  <span class="co"># shade of the observations</span></span>
<span id="cb55-133"><a href="#cb55-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb55-134"><a href="#cb55-134" aria-hidden="true" tabindex="-1"></a>    <span class="at">shape =</span> <span class="dv">95</span></span>
<span id="cb55-135"><a href="#cb55-135" aria-hidden="true" tabindex="-1"></a>    , <span class="at">size =</span> <span class="dv">40</span></span>
<span id="cb55-136"><a href="#cb55-136" aria-hidden="true" tabindex="-1"></a>    , <span class="at">alpha =</span> <span class="fl">0.01</span></span>
<span id="cb55-137"><a href="#cb55-137" aria-hidden="true" tabindex="-1"></a>    , <span class="at">show.legend =</span> F</span>
<span id="cb55-138"><a href="#cb55-138" aria-hidden="true" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">'gray'</span></span>
<span id="cb55-139"><a href="#cb55-139" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-140"><a href="#cb55-140" aria-hidden="true" tabindex="-1"></a>  <span class="co"># point interval of distribution</span></span>
<span id="cb55-141"><a href="#cb55-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_pointinterval</span>(</span>
<span id="cb55-142"><a href="#cb55-142" aria-hidden="true" tabindex="-1"></a>    , <span class="at">fill =</span> <span class="cn">NA</span></span>
<span id="cb55-143"><a href="#cb55-143" aria-hidden="true" tabindex="-1"></a>    , <span class="at">.width =</span> <span class="fu">c</span>(.<span class="dv">5</span>, .<span class="dv">75</span>, .<span class="dv">95</span>)</span>
<span id="cb55-144"><a href="#cb55-144" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-145"><a href="#cb55-145" aria-hidden="true" tabindex="-1"></a>  <span class="co"># density</span></span>
<span id="cb55-146"><a href="#cb55-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_slab</span>(</span>
<span id="cb55-147"><a href="#cb55-147" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="cn">NA</span></span>
<span id="cb55-148"><a href="#cb55-148" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-149"><a href="#cb55-149" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line separating EN &amp; ES</span></span>
<span id="cb55-150"><a href="#cb55-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(</span>
<span id="cb55-151"><a href="#cb55-151" aria-hidden="true" tabindex="-1"></a>    <span class="at">yintercept =</span> <span class="fl">2.93</span></span>
<span id="cb55-152"><a href="#cb55-152" aria-hidden="true" tabindex="-1"></a>    , <span class="at">linetype =</span> <span class="st">'dashed'</span></span>
<span id="cb55-153"><a href="#cb55-153" aria-hidden="true" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">'lightgray'</span></span>
<span id="cb55-154"><a href="#cb55-154" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-155"><a href="#cb55-155" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theming</span></span>
<span id="cb55-156"><a href="#cb55-156" aria-hidden="true" tabindex="-1"></a>  <span class="co"># labs</span></span>
<span id="cb55-157"><a href="#cb55-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb55-158"><a href="#cb55-158" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">'Reading time (log-ms)'</span></span>
<span id="cb55-159"><a href="#cb55-159" aria-hidden="true" tabindex="-1"></a>    , <span class="at">fill =</span> <span class="cn">NULL</span></span>
<span id="cb55-160"><a href="#cb55-160" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-161"><a href="#cb55-161" aria-hidden="true" tabindex="-1"></a>  <span class="co"># scales</span></span>
<span id="cb55-162"><a href="#cb55-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(</span>
<span id="cb55-163"><a href="#cb55-163" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="cn">NULL</span></span>
<span id="cb55-164"><a href="#cb55-164" aria-hidden="true" tabindex="-1"></a>    , <span class="at">expand =</span> <span class="fu">c</span>(<span class="fl">0.0</span>,<span class="dv">0</span>)</span>
<span id="cb55-165"><a href="#cb55-165" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-166"><a href="#cb55-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb55-167"><a href="#cb55-167" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">11</span>, <span class="fl">1.5</span>)</span>
<span id="cb55-168"><a href="#cb55-168" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-169"><a href="#cb55-169" aria-hidden="true" tabindex="-1"></a>  <span class="co"># theme</span></span>
<span id="cb55-170"><a href="#cb55-170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb55-171"><a href="#cb55-171" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb55-172"><a href="#cb55-172" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb55-173"><a href="#cb55-173" aria-hidden="true" tabindex="-1"></a>    , <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>()</span>
<span id="cb55-174"><a href="#cb55-174" aria-hidden="true" tabindex="-1"></a>    , <span class="at">legend.position =</span> <span class="st">'none'</span></span>
<span id="cb55-175"><a href="#cb55-175" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-176"><a href="#cb55-176" aria-hidden="true" tabindex="-1"></a>  <span class="co"># colour</span></span>
<span id="cb55-177"><a href="#cb55-177" aria-hidden="true" tabindex="-1"></a>  viridis<span class="sc">::</span><span class="fu">scale_fill_viridis</span>(</span>
<span id="cb55-178"><a href="#cb55-178" aria-hidden="true" tabindex="-1"></a>    <span class="at">discrete =</span> T</span>
<span id="cb55-179"><a href="#cb55-179" aria-hidden="true" tabindex="-1"></a>    , <span class="at">option =</span> <span class="st">'H'</span></span>
<span id="cb55-180"><a href="#cb55-180" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-181"><a href="#cb55-181" aria-hidden="true" tabindex="-1"></a>  viridis<span class="sc">::</span><span class="fu">scale_color_viridis</span>(</span>
<span id="cb55-182"><a href="#cb55-182" aria-hidden="true" tabindex="-1"></a>    <span class="at">discrete =</span> T</span>
<span id="cb55-183"><a href="#cb55-183" aria-hidden="true" tabindex="-1"></a>    , <span class="at">option =</span> <span class="st">'H'</span></span>
<span id="cb55-184"><a href="#cb55-184" aria-hidden="true" tabindex="-1"></a>    , <span class="at">name =</span> <span class="cn">NULL</span></span>
<span id="cb55-185"><a href="#cb55-185" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-186"><a href="#cb55-186" aria-hidden="true" tabindex="-1"></a>  <span class="co"># text of condition</span></span>
<span id="cb55-187"><a href="#cb55-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb55-188"><a href="#cb55-188" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> F</span>
<span id="cb55-189"><a href="#cb55-189" aria-hidden="true" tabindex="-1"></a>    , <span class="at">data =</span> . <span class="sc">%&gt;%</span> </span>
<span id="cb55-190"><a href="#cb55-190" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(</span>
<span id="cb55-191"><a href="#cb55-191" aria-hidden="true" tabindex="-1"></a>        combination, currtrial</span>
<span id="cb55-192"><a href="#cb55-192" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-193"><a href="#cb55-193" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(</span>
<span id="cb55-194"><a href="#cb55-194" aria-hidden="true" tabindex="-1"></a>        <span class="at">T =</span> <span class="fu">median</span>(<span class="fu">log</span>(T))</span>
<span id="cb55-195"><a href="#cb55-195" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb55-196"><a href="#cb55-196" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">aes</span>(</span>
<span id="cb55-197"><a href="#cb55-197" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> T</span>
<span id="cb55-198"><a href="#cb55-198" aria-hidden="true" tabindex="-1"></a>      , <span class="at">y =</span> combination</span>
<span id="cb55-199"><a href="#cb55-199" aria-hidden="true" tabindex="-1"></a>      , <span class="at">label =</span> currtrial</span>
<span id="cb55-200"><a href="#cb55-200" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-201"><a href="#cb55-201" aria-hidden="true" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">'black'</span></span>
<span id="cb55-202"><a href="#cb55-202" aria-hidden="true" tabindex="-1"></a>    , <span class="at">vjust =</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb55-203"><a href="#cb55-203" aria-hidden="true" tabindex="-1"></a>    , <span class="at">size =</span> <span class="dv">5</span></span>
<span id="cb55-204"><a href="#cb55-204" aria-hidden="true" tabindex="-1"></a>    , <span class="at">family =</span> <span class="st">'Carlito'</span></span>
<span id="cb55-205"><a href="#cb55-205" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-206"><a href="#cb55-206" aria-hidden="true" tabindex="-1"></a>  <span class="co"># language text</span></span>
<span id="cb55-207"><a href="#cb55-207" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb55-208"><a href="#cb55-208" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> F</span>
<span id="cb55-209"><a href="#cb55-209" aria-hidden="true" tabindex="-1"></a>    , <span class="at">data =</span> . <span class="sc">%&gt;%</span> </span>
<span id="cb55-210"><a href="#cb55-210" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb55-211"><a href="#cb55-211" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fu">ifelse</span>(</span>
<span id="cb55-212"><a href="#cb55-212" aria-hidden="true" tabindex="-1"></a>          L <span class="sc">==</span> <span class="st">'English'</span></span>
<span id="cb55-213"><a href="#cb55-213" aria-hidden="true" tabindex="-1"></a>          , <span class="dv">2</span></span>
<span id="cb55-214"><a href="#cb55-214" aria-hidden="true" tabindex="-1"></a>          , <span class="dv">4</span></span>
<span id="cb55-215"><a href="#cb55-215" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb55-216"><a href="#cb55-216" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb55-217"><a href="#cb55-217" aria-hidden="true" tabindex="-1"></a>    , <span class="fu">aes</span>(</span>
<span id="cb55-218"><a href="#cb55-218" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">5</span></span>
<span id="cb55-219"><a href="#cb55-219" aria-hidden="true" tabindex="-1"></a>      , <span class="at">y =</span> y</span>
<span id="cb55-220"><a href="#cb55-220" aria-hidden="true" tabindex="-1"></a>      , <span class="at">label =</span> L</span>
<span id="cb55-221"><a href="#cb55-221" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-222"><a href="#cb55-222" aria-hidden="true" tabindex="-1"></a>    , <span class="at">angle =</span> <span class="dv">90</span></span>
<span id="cb55-223"><a href="#cb55-223" aria-hidden="true" tabindex="-1"></a>    , <span class="at">hjust =</span> <span class="fl">0.5</span></span>
<span id="cb55-224"><a href="#cb55-224" aria-hidden="true" tabindex="-1"></a>    , <span class="at">color =</span> <span class="st">'gray'</span></span>
<span id="cb55-225"><a href="#cb55-225" aria-hidden="true" tabindex="-1"></a>    , <span class="at">size =</span> <span class="dv">6</span></span>
<span id="cb55-226"><a href="#cb55-226" aria-hidden="true" tabindex="-1"></a>    , <span class="at">family =</span> <span class="st">'Carlito'</span></span>
<span id="cb55-227"><a href="#cb55-227" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-228"><a href="#cb55-228" aria-hidden="true" tabindex="-1"></a>salig.df<span class="sc">$</span>s1_l <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb55-229"><a href="#cb55-229" aria-hidden="true" tabindex="-1"></a>  salig.df<span class="sc">$</span>L <span class="sc">==</span> <span class="st">'English'</span></span>
<span id="cb55-230"><a href="#cb55-230" aria-hidden="true" tabindex="-1"></a>  , <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb55-231"><a href="#cb55-231" aria-hidden="true" tabindex="-1"></a>  , <span class="dv">1</span></span>
<span id="cb55-232"><a href="#cb55-232" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-233"><a href="#cb55-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-234"><a href="#cb55-234" aria-hidden="true" tabindex="-1"></a>salig.df<span class="sc">$</span>s<span class="fl">.5</span>_l <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(</span>
<span id="cb55-235"><a href="#cb55-235" aria-hidden="true" tabindex="-1"></a>  salig.df<span class="sc">$</span>L <span class="sc">==</span> <span class="st">'English'</span></span>
<span id="cb55-236"><a href="#cb55-236" aria-hidden="true" tabindex="-1"></a>  , <span class="sc">-</span>.<span class="dv">5</span></span>
<span id="cb55-237"><a href="#cb55-237" aria-hidden="true" tabindex="-1"></a>  , .<span class="dv">5</span></span>
<span id="cb55-238"><a href="#cb55-238" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-239"><a href="#cb55-239" aria-hidden="true" tabindex="-1"></a>fit.lang.sum<span class="fl">.1</span> <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb55-240"><a href="#cb55-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> s1_l <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb55-241"><a href="#cb55-241" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb55-242"><a href="#cb55-242" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-243"><a href="#cb55-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-244"><a href="#cb55-244" aria-hidden="true" tabindex="-1"></a>fit.lang.sum<span class="fl">.05</span> <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb55-245"><a href="#cb55-245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> s<span class="fl">.5</span>_l <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb55-246"><a href="#cb55-246" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb55-247"><a href="#cb55-247" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-248"><a href="#cb55-248" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb55-249"><a href="#cb55-249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb55-250"><a href="#cb55-250" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb55-251"><a href="#cb55-251" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-252"><a href="#cb55-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-253"><a href="#cb55-253" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent formula</span></span>
<span id="cb55-254"><a href="#cb55-254" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb55-255"><a href="#cb55-255" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb55-256"><a href="#cb55-256" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb55-257"><a href="#cb55-257" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-258"><a href="#cb55-258" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.5</span> <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb55-259"><a href="#cb55-259" aria-hidden="true" tabindex="-1"></a>  fit.lang.sum<span class="fl">.05</span></span>
<span id="cb55-260"><a href="#cb55-260" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb55-261"><a href="#cb55-261" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-262"><a href="#cb55-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-263"><a href="#cb55-263" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.5</span> <span class="ot">&lt;-</span> </span>
<span id="cb55-264"><a href="#cb55-264" aria-hidden="true" tabindex="-1"></a>  scoded.lang.coef<span class="fl">.5</span>[</span>
<span id="cb55-265"><a href="#cb55-265" aria-hidden="true" tabindex="-1"></a>    scoded.lang.coef<span class="fl">.5</span><span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb55-266"><a href="#cb55-266" aria-hidden="true" tabindex="-1"></a>    <span class="co"># cols inherited from the indicator model</span></span>
<span id="cb55-267"><a href="#cb55-267" aria-hidden="true" tabindex="-1"></a>    , cols[<span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(scoded.lang.coef<span class="fl">.5</span>)]</span>
<span id="cb55-268"><a href="#cb55-268" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb55-269"><a href="#cb55-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-270"><a href="#cb55-270" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.1</span> <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb55-271"><a href="#cb55-271" aria-hidden="true" tabindex="-1"></a>  fit.lang.sum<span class="fl">.1</span></span>
<span id="cb55-272"><a href="#cb55-272" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb55-273"><a href="#cb55-273" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-274"><a href="#cb55-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-275"><a href="#cb55-275" aria-hidden="true" tabindex="-1"></a>scoded.lang.coef<span class="fl">.1</span> <span class="ot">&lt;-</span> </span>
<span id="cb55-276"><a href="#cb55-276" aria-hidden="true" tabindex="-1"></a>  scoded.lang.coef<span class="fl">.1</span>[</span>
<span id="cb55-277"><a href="#cb55-277" aria-hidden="true" tabindex="-1"></a>    scoded.lang.coef<span class="fl">.1</span><span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb55-278"><a href="#cb55-278" aria-hidden="true" tabindex="-1"></a>    , cols[<span class="dv">3</span><span class="sc">:</span><span class="fu">ncol</span>(scoded.lang.coef<span class="fl">.1</span>)]</span>
<span id="cb55-279"><a href="#cb55-279" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb55-280"><a href="#cb55-280" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">5.</span>emm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-281"><a href="#cb55-281" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(</span>
<span id="cb55-282"><a href="#cb55-282" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.05</span></span>
<span id="cb55-283"><a href="#cb55-283" aria-hidden="true" tabindex="-1"></a>    , <span class="sc">~</span> s<span class="fl">.5</span>_l</span>
<span id="cb55-284"><a href="#cb55-284" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-285"><a href="#cb55-285" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-286"><a href="#cb55-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-287"><a href="#cb55-287" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">1.</span>emm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-288"><a href="#cb55-288" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(</span>
<span id="cb55-289"><a href="#cb55-289" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.1</span></span>
<span id="cb55-290"><a href="#cb55-290" aria-hidden="true" tabindex="-1"></a>    , <span class="sc">~</span> s1_l</span>
<span id="cb55-291"><a href="#cb55-291" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-292"><a href="#cb55-292" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-293"><a href="#cb55-293" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">5.</span>marg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-294"><a href="#cb55-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb55-295"><a href="#cb55-295" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.05</span></span>
<span id="cb55-296"><a href="#cb55-296" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">'s.5_l'</span></span>
<span id="cb55-297"><a href="#cb55-297" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb55-298"><a href="#cb55-298" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-299"><a href="#cb55-299" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-300"><a href="#cb55-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-301"><a href="#cb55-301" aria-hidden="true" tabindex="-1"></a>cmeans.scoded.indicator.<span class="fl">1.</span>marg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-302"><a href="#cb55-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb55-303"><a href="#cb55-303" aria-hidden="true" tabindex="-1"></a>    fit.lang.sum<span class="fl">.1</span></span>
<span id="cb55-304"><a href="#cb55-304" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">'s1_l'</span></span>
<span id="cb55-305"><a href="#cb55-305" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb55-306"><a href="#cb55-306" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-307"><a href="#cb55-307" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-308"><a href="#cb55-308" aria-hidden="true" tabindex="-1"></a>fit.lang.index <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb55-309"><a href="#cb55-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb55-310"><a href="#cb55-310" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb55-311"><a href="#cb55-311" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-312"><a href="#cb55-312" aria-hidden="true" tabindex="-1"></a><span class="co"># extract population-level estimates</span></span>
<span id="cb55-313"><a href="#cb55-313" aria-hidden="true" tabindex="-1"></a><span class="co"># from the model</span></span>
<span id="cb55-314"><a href="#cb55-314" aria-hidden="true" tabindex="-1"></a>index.lang.coef <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb55-315"><a href="#cb55-315" aria-hidden="true" tabindex="-1"></a>  fit.lang.index</span>
<span id="cb55-316"><a href="#cb55-316" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb55-317"><a href="#cb55-317" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-318"><a href="#cb55-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-319"><a href="#cb55-319" aria-hidden="true" tabindex="-1"></a>index.lang.coef <span class="ot">&lt;-</span> index.lang.coef[</span>
<span id="cb55-320"><a href="#cb55-320" aria-hidden="true" tabindex="-1"></a>  index.lang.coef<span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb55-321"><a href="#cb55-321" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb55-322"><a href="#cb55-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grepl</span>(</span>
<span id="cb55-323"><a href="#cb55-323" aria-hidden="true" tabindex="-1"></a>    <span class="st">'term|^est|^conf'</span></span>
<span id="cb55-324"><a href="#cb55-324" aria-hidden="true" tabindex="-1"></a>    , cols</span>
<span id="cb55-325"><a href="#cb55-325" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-326"><a href="#cb55-326" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb55-327"><a href="#cb55-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-328"><a href="#cb55-328" aria-hidden="true" tabindex="-1"></a>index.lang.coef <span class="sc">%&gt;%</span> </span>
<span id="cb55-329"><a href="#cb55-329" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-330"><a href="#cb55-330" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-331"><a href="#cb55-331" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-332"><a href="#cb55-332" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-333"><a href="#cb55-333" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-334"><a href="#cb55-334" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-335"><a href="#cb55-335" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-336"><a href="#cb55-336" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-337"><a href="#cb55-337" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb55-338"><a href="#cb55-338" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-339"><a href="#cb55-339" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb55-340"><a href="#cb55-340" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-341"><a href="#cb55-341" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-342"><a href="#cb55-342" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-343"><a href="#cb55-343" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-344"><a href="#cb55-344" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'conf'</span>)</span>
<span id="cb55-345"><a href="#cb55-345" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-346"><a href="#cb55-346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb55-347"><a href="#cb55-347" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'term'</span></span>
<span id="cb55-348"><a href="#cb55-348" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-349"><a href="#cb55-349" aria-hidden="true" tabindex="-1"></a>index.dif.emm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-350"><a href="#cb55-350" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(</span>
<span id="cb55-351"><a href="#cb55-351" aria-hidden="true" tabindex="-1"></a>    fit.lang.index, pairwise <span class="sc">~</span> L</span>
<span id="cb55-352"><a href="#cb55-352" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">$</span>contrasts</span>
<span id="cb55-353"><a href="#cb55-353" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-354"><a href="#cb55-354" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-355"><a href="#cb55-355" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(fit.lang.index, <span class="sc">~</span> <span class="dv">1</span>)</span>
<span id="cb55-356"><a href="#cb55-356" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-357"><a href="#cb55-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-358"><a href="#cb55-358" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="sc">%&gt;%</span> </span>
<span id="cb55-359"><a href="#cb55-359" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-360"><a href="#cb55-360" aria-hidden="true" tabindex="-1"></a>    , emmean</span>
<span id="cb55-361"><a href="#cb55-361" aria-hidden="true" tabindex="-1"></a>    , asymp.LCL</span>
<span id="cb55-362"><a href="#cb55-362" aria-hidden="true" tabindex="-1"></a>    , asymp.UCL</span>
<span id="cb55-363"><a href="#cb55-363" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-364"><a href="#cb55-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-365"><a href="#cb55-365" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-366"><a href="#cb55-366" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-367"><a href="#cb55-367" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-368"><a href="#cb55-368" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-369"><a href="#cb55-369" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-370"><a href="#cb55-370" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-371"><a href="#cb55-371" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-372"><a href="#cb55-372" aria-hidden="true" tabindex="-1"></a>      , asymp.LCL</span>
<span id="cb55-373"><a href="#cb55-373" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-374"><a href="#cb55-374" aria-hidden="true" tabindex="-1"></a>      , asymp.UCL</span>
<span id="cb55-375"><a href="#cb55-375" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-376"><a href="#cb55-376" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-377"><a href="#cb55-377" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-378"><a href="#cb55-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-379"><a href="#cb55-379" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'asymp'</span>)</span>
<span id="cb55-380"><a href="#cb55-380" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-381"><a href="#cb55-381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb55-382"><a href="#cb55-382" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-383"><a href="#cb55-383" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb55-384"><a href="#cb55-384" aria-hidden="true" tabindex="-1"></a>    fit.lang.index</span>
<span id="cb55-385"><a href="#cb55-385" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb55-386"><a href="#cb55-386" aria-hidden="true" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="st">'L'</span></span>
<span id="cb55-387"><a href="#cb55-387" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> T</span>
<span id="cb55-388"><a href="#cb55-388" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-389"><a href="#cb55-389" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-390"><a href="#cb55-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-391"><a href="#cb55-391" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="sc">%&gt;%</span> </span>
<span id="cb55-392"><a href="#cb55-392" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-393"><a href="#cb55-393" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-394"><a href="#cb55-394" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-395"><a href="#cb55-395" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-396"><a href="#cb55-396" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-397"><a href="#cb55-397" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-398"><a href="#cb55-398" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-399"><a href="#cb55-399" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-400"><a href="#cb55-400" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb55-401"><a href="#cb55-401" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-402"><a href="#cb55-402" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb55-403"><a href="#cb55-403" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-404"><a href="#cb55-404" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-405"><a href="#cb55-405" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-406"><a href="#cb55-406" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-407"><a href="#cb55-407" aria-hidden="true" tabindex="-1"></a>    , estimate</span>
<span id="cb55-408"><a href="#cb55-408" aria-hidden="true" tabindex="-1"></a>    , <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span></span>
<span id="cb55-409"><a href="#cb55-409" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-410"><a href="#cb55-410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb55-411"><a href="#cb55-411" aria-hidden="true" tabindex="-1"></a><span class="co"># grateful to create a text</span></span>
<span id="cb55-412"><a href="#cb55-412" aria-hidden="true" tabindex="-1"></a><span class="co"># with the packages used directly</span></span>
<span id="cb55-413"><a href="#cb55-413" aria-hidden="true" tabindex="-1"></a><span class="co"># dependencies are not cited</span></span>
<span id="cb55-414"><a href="#cb55-414" aria-hidden="true" tabindex="-1"></a><span class="co"># because some are creating a problem</span></span>
<span id="cb55-415"><a href="#cb55-415" aria-hidden="true" tabindex="-1"></a><span class="co"># with R4.5</span></span>
<span id="cb55-416"><a href="#cb55-416" aria-hidden="true" tabindex="-1"></a>grateful<span class="sc">::</span><span class="fu">cite_packages</span>(</span>
<span id="cb55-417"><a href="#cb55-417" aria-hidden="true" tabindex="-1"></a>  <span class="at">output =</span> <span class="st">'paragraph'</span></span>
<span id="cb55-418"><a href="#cb55-418" aria-hidden="true" tabindex="-1"></a>  , <span class="at">out.dir =</span> (<span class="st">'.'</span>)</span>
<span id="cb55-419"><a href="#cb55-419" aria-hidden="true" tabindex="-1"></a>  , <span class="at">pkgs =</span> <span class="st">'All'</span></span>
<span id="cb55-420"><a href="#cb55-420" aria-hidden="true" tabindex="-1"></a>  , <span class="at">cite.tidyverse =</span> F</span>
<span id="cb55-421"><a href="#cb55-421" aria-hidden="true" tabindex="-1"></a>  , <span class="at">omit =</span> <span class="cn">NULL</span> <span class="co"># include grateful</span></span>
<span id="cb55-422"><a href="#cb55-422" aria-hidden="true" tabindex="-1"></a>  , <span class="at">include.RStudio =</span> F</span>
<span id="cb55-423"><a href="#cb55-423" aria-hidden="true" tabindex="-1"></a>  , <span class="at">dependencies =</span> F</span>
<span id="cb55-424"><a href="#cb55-424" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-425"><a href="#cb55-425" aria-hidden="true" tabindex="-1"></a><span class="co"># obtain session info</span></span>
<span id="cb55-426"><a href="#cb55-426" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb55-427"><a href="#cb55-427" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr) <span class="co"># pipe operator</span></span>
<span id="cb55-428"><a href="#cb55-428" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># easy manipulation</span></span>
<span id="cb55-429"><a href="#cb55-429" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb55-430"><a href="#cb55-430" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># plot</span></span>
<span id="cb55-431"><a href="#cb55-431" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdist) <span class="co"># plot distributions</span></span>
<span id="cb55-432"><a href="#cb55-432" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(geomtextpath) <span class="co"># text to plots</span></span>
<span id="cb55-433"><a href="#cb55-433" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork) <span class="co"># combine plots</span></span>
<span id="cb55-434"><a href="#cb55-434" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb55-435"><a href="#cb55-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-436"><a href="#cb55-436" aria-hidden="true" tabindex="-1"></a><span class="co"># set basic theme</span></span>
<span id="cb55-437"><a href="#cb55-437" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(</span>
<span id="cb55-438"><a href="#cb55-438" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>( <span class="co"># theme</span></span>
<span id="cb55-439"><a href="#cb55-439" aria-hidden="true" tabindex="-1"></a>    <span class="at">base_size =</span> <span class="dv">16</span> <span class="co"># size of non-graph</span></span>
<span id="cb55-440"><a href="#cb55-440" aria-hidden="true" tabindex="-1"></a>    , <span class="at">base_family =</span> <span class="st">'Carlito'</span> <span class="co"># font</span></span>
<span id="cb55-441"><a href="#cb55-441" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-442"><a href="#cb55-442" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-443"><a href="#cb55-443" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb55-444"><a href="#cb55-444" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb55-445"><a href="#cb55-445" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb55-446"><a href="#cb55-446" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lme4)</span>
<span id="cb55-447"><a href="#cb55-447" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb55-448"><a href="#cb55-448" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom.mixed)</span>
<span id="cb55-449"><a href="#cb55-449" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(emmeans)</span>
<span id="cb55-450"><a href="#cb55-450" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(marginaleffects)</span>
<span id="cb55-451"><a href="#cb55-451" aria-hidden="true" tabindex="-1"></a><span class="co"># load package</span></span>
<span id="cb55-452"><a href="#cb55-452" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(brms)</span>
<span id="cb55-453"><a href="#cb55-453" aria-hidden="true" tabindex="-1"></a><span class="co"># auto-parallel</span></span>
<span id="cb55-454"><a href="#cb55-454" aria-hidden="true" tabindex="-1"></a><span class="co"># use as many cores as chains</span></span>
<span id="cb55-455"><a href="#cb55-455" aria-hidden="true" tabindex="-1"></a><span class="co"># if ncores &lt;= nchains</span></span>
<span id="cb55-456"><a href="#cb55-456" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">mc.cores =</span> parallel<span class="sc">::</span><span class="fu">detectCores</span>())</span>
<span id="cb55-457"><a href="#cb55-457" aria-hidden="true" tabindex="-1"></a><span class="co"># use threading (split chains)</span></span>
<span id="cb55-458"><a href="#cb55-458" aria-hidden="true" tabindex="-1"></a>rstan<span class="sc">::</span><span class="fu">rstan_options</span>(<span class="at">threads_per_chain =</span> <span class="dv">2</span>)</span>
<span id="cb55-459"><a href="#cb55-459" aria-hidden="true" tabindex="-1"></a><span class="co"># write stan code to temp file</span></span>
<span id="cb55-460"><a href="#cb55-460" aria-hidden="true" tabindex="-1"></a>rstan<span class="sc">::</span><span class="fu">rstan_options</span>(<span class="at">auto_write =</span> <span class="cn">TRUE</span>)</span>
<span id="cb55-461"><a href="#cb55-461" aria-hidden="true" tabindex="-1"></a><span class="co"># use cmdstanr backend</span></span>
<span id="cb55-462"><a href="#cb55-462" aria-hidden="true" tabindex="-1"></a><span class="co"># it's much faster</span></span>
<span id="cb55-463"><a href="#cb55-463" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">brms.backend =</span> <span class="st">"cmdstanr"</span>)</span>
<span id="cb55-464"><a href="#cb55-464" aria-hidden="true" tabindex="-1"></a><span class="co"># call it explicitly</span></span>
<span id="cb55-465"><a href="#cb55-465" aria-hidden="true" tabindex="-1"></a><span class="co"># so that it's cited directly</span></span>
<span id="cb55-466"><a href="#cb55-466" aria-hidden="true" tabindex="-1"></a><span class="co"># otherwise it is used under the hood</span></span>
<span id="cb55-467"><a href="#cb55-467" aria-hidden="true" tabindex="-1"></a><span class="co"># but grateful does not pick it</span></span>
<span id="cb55-468"><a href="#cb55-468" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cmdstanr)</span>
<span id="cb55-469"><a href="#cb55-469" aria-hidden="true" tabindex="-1"></a><span class="co"># seed for models</span></span>
<span id="cb55-470"><a href="#cb55-470" aria-hidden="true" tabindex="-1"></a><span class="co"># ensure exact replication</span></span>
<span id="cb55-471"><a href="#cb55-471" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'scripts/00-setup-packages.R'</span>)</span>
<span id="cb55-472"><a href="#cb55-472" aria-hidden="true" tabindex="-1"></a><span class="co"># create vectors of the variables</span></span>
<span id="cb55-473"><a href="#cb55-473" aria-hidden="true" tabindex="-1"></a>language <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'English'</span>, <span class="st">'Spanish'</span>)</span>
<span id="cb55-474"><a href="#cb55-474" aria-hidden="true" tabindex="-1"></a>switching <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'+ switch'</span>, <span class="st">'- switch'</span>)</span>
<span id="cb55-475"><a href="#cb55-475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-476"><a href="#cb55-476" aria-hidden="true" tabindex="-1"></a><span class="co"># create grid combining the variables</span></span>
<span id="cb55-477"><a href="#cb55-477" aria-hidden="true" tabindex="-1"></a>design.grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">language =</span> language, <span class="at">switching =</span> switching)</span>
<span id="cb55-478"><a href="#cb55-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-479"><a href="#cb55-479" aria-hidden="true" tabindex="-1"></a><span class="co"># create combinations of variables</span></span>
<span id="cb55-480"><a href="#cb55-480" aria-hidden="true" tabindex="-1"></a>design.grid<span class="sc">$</span>combination <span class="ot">&lt;-</span> <span class="fu">paste</span>(</span>
<span id="cb55-481"><a href="#cb55-481" aria-hidden="true" tabindex="-1"></a>  design.grid<span class="sc">$</span>language</span>
<span id="cb55-482"><a href="#cb55-482" aria-hidden="true" tabindex="-1"></a>  , design.grid<span class="sc">$</span>switching</span>
<span id="cb55-483"><a href="#cb55-483" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-484"><a href="#cb55-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-485"><a href="#cb55-485" aria-hidden="true" tabindex="-1"></a><span class="co"># create table in gt</span></span>
<span id="cb55-486"><a href="#cb55-486" aria-hidden="true" tabindex="-1"></a>design.tb <span class="ot">&lt;-</span> design.grid <span class="sc">%&gt;%</span> </span>
<span id="cb55-487"><a href="#cb55-487" aria-hidden="true" tabindex="-1"></a>  <span class="co"># pivot to wider</span></span>
<span id="cb55-488"><a href="#cb55-488" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to have combinations in 2x2</span></span>
<span id="cb55-489"><a href="#cb55-489" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(</span>
<span id="cb55-490"><a href="#cb55-490" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> switching</span>
<span id="cb55-491"><a href="#cb55-491" aria-hidden="true" tabindex="-1"></a>    , <span class="at">values_from =</span> combination</span>
<span id="cb55-492"><a href="#cb55-492" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-493"><a href="#cb55-493" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'scripts/00-setup-packages.R'</span>)</span>
<span id="cb55-494"><a href="#cb55-494" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'scripts/02-read-data.R'</span>)</span>
<span id="cb55-495"><a href="#cb55-495" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'scripts/02-read-data.R'</span>)</span>
<span id="cb55-496"><a href="#cb55-496" aria-hidden="true" tabindex="-1"></a><span class="co"># fit-treatment-indicator</span></span>
<span id="cb55-497"><a href="#cb55-497" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb55-498"><a href="#cb55-498" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb55-499"><a href="#cb55-499" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb55-500"><a href="#cb55-500" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-501"><a href="#cb55-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-502"><a href="#cb55-502" aria-hidden="true" tabindex="-1"></a><span class="co"># equivalent formula</span></span>
<span id="cb55-503"><a href="#cb55-503" aria-hidden="true" tabindex="-1"></a>fit.lang.indicator <span class="ot">&lt;-</span> <span class="fu">lmer</span>(</span>
<span id="cb55-504"><a href="#cb55-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log</span>(T) <span class="sc">~</span> <span class="dv">1</span> <span class="sc">+</span> L <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> S) <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> I)</span>
<span id="cb55-505"><a href="#cb55-505" aria-hidden="true" tabindex="-1"></a>  , <span class="at">data =</span> salig.df</span>
<span id="cb55-506"><a href="#cb55-506" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-507"><a href="#cb55-507" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit.lang.indicator)</span>
<span id="cb55-508"><a href="#cb55-508" aria-hidden="true" tabindex="-1"></a><span class="co"># extract population-level estimates</span></span>
<span id="cb55-509"><a href="#cb55-509" aria-hidden="true" tabindex="-1"></a><span class="co"># from the model</span></span>
<span id="cb55-510"><a href="#cb55-510" aria-hidden="true" tabindex="-1"></a>indicator.lang.coef <span class="ot">&lt;-</span> broom.mixed<span class="sc">::</span><span class="fu">tidy</span>(</span>
<span id="cb55-511"><a href="#cb55-511" aria-hidden="true" tabindex="-1"></a>  fit.lang.indicator</span>
<span id="cb55-512"><a href="#cb55-512" aria-hidden="true" tabindex="-1"></a>  , <span class="at">conf.int =</span> T</span>
<span id="cb55-513"><a href="#cb55-513" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-514"><a href="#cb55-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-515"><a href="#cb55-515" aria-hidden="true" tabindex="-1"></a><span class="co"># the first two columns of the</span></span>
<span id="cb55-516"><a href="#cb55-516" aria-hidden="true" tabindex="-1"></a><span class="co"># tidy output are irrelevant</span></span>
<span id="cb55-517"><a href="#cb55-517" aria-hidden="true" tabindex="-1"></a><span class="co"># and I don't want std error and statistic</span></span>
<span id="cb55-518"><a href="#cb55-518" aria-hidden="true" tabindex="-1"></a><span class="co"># obtain the colnames</span></span>
<span id="cb55-519"><a href="#cb55-519" aria-hidden="true" tabindex="-1"></a><span class="co"># just to keep the relevant ones</span></span>
<span id="cb55-520"><a href="#cb55-520" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">&lt;-</span> <span class="fu">colnames</span>(indicator.lang.coef)</span>
<span id="cb55-521"><a href="#cb55-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-522"><a href="#cb55-522" aria-hidden="true" tabindex="-1"></a>indicator.lang.coef <span class="ot">&lt;-</span> indicator.lang.coef[</span>
<span id="cb55-523"><a href="#cb55-523" aria-hidden="true" tabindex="-1"></a>  indicator.lang.coef<span class="sc">$</span>effect <span class="sc">==</span> <span class="st">'fixed'</span></span>
<span id="cb55-524"><a href="#cb55-524" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb55-525"><a href="#cb55-525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">grepl</span>(</span>
<span id="cb55-526"><a href="#cb55-526" aria-hidden="true" tabindex="-1"></a>    <span class="st">'term|^est|^conf'</span></span>
<span id="cb55-527"><a href="#cb55-527" aria-hidden="true" tabindex="-1"></a>    , cols</span>
<span id="cb55-528"><a href="#cb55-528" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-529"><a href="#cb55-529" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb55-530"><a href="#cb55-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-531"><a href="#cb55-531" aria-hidden="true" tabindex="-1"></a>indicator.lang.coef <span class="sc">%&gt;%</span> </span>
<span id="cb55-532"><a href="#cb55-532" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-533"><a href="#cb55-533" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-534"><a href="#cb55-534" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-535"><a href="#cb55-535" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-536"><a href="#cb55-536" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-537"><a href="#cb55-537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-538"><a href="#cb55-538" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-539"><a href="#cb55-539" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-540"><a href="#cb55-540" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb55-541"><a href="#cb55-541" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-542"><a href="#cb55-542" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb55-543"><a href="#cb55-543" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-544"><a href="#cb55-544" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-545"><a href="#cb55-545" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-546"><a href="#cb55-546" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-547"><a href="#cb55-547" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'conf'</span>)</span>
<span id="cb55-548"><a href="#cb55-548" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-549"><a href="#cb55-549" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb55-550"><a href="#cb55-550" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'term'</span></span>
<span id="cb55-551"><a href="#cb55-551" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-552"><a href="#cb55-552" aria-hidden="true" tabindex="-1"></a>cmeans.emmeans <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-553"><a href="#cb55-553" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(fit.lang.indicator, <span class="sc">~</span> L)</span>
<span id="cb55-554"><a href="#cb55-554" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-555"><a href="#cb55-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-556"><a href="#cb55-556" aria-hidden="true" tabindex="-1"></a>cmeans.emmeans <span class="sc">%&gt;%</span> </span>
<span id="cb55-557"><a href="#cb55-557" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-558"><a href="#cb55-558" aria-hidden="true" tabindex="-1"></a>    L</span>
<span id="cb55-559"><a href="#cb55-559" aria-hidden="true" tabindex="-1"></a>    , emmean</span>
<span id="cb55-560"><a href="#cb55-560" aria-hidden="true" tabindex="-1"></a>    , asymp.LCL</span>
<span id="cb55-561"><a href="#cb55-561" aria-hidden="true" tabindex="-1"></a>    , asymp.UCL</span>
<span id="cb55-562"><a href="#cb55-562" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-563"><a href="#cb55-563" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-564"><a href="#cb55-564" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-565"><a href="#cb55-565" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-566"><a href="#cb55-566" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-567"><a href="#cb55-567" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-568"><a href="#cb55-568" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-569"><a href="#cb55-569" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-570"><a href="#cb55-570" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-571"><a href="#cb55-571" aria-hidden="true" tabindex="-1"></a>      , asymp.LCL</span>
<span id="cb55-572"><a href="#cb55-572" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-573"><a href="#cb55-573" aria-hidden="true" tabindex="-1"></a>      , asymp.UCL</span>
<span id="cb55-574"><a href="#cb55-574" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-575"><a href="#cb55-575" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-576"><a href="#cb55-576" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-577"><a href="#cb55-577" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-578"><a href="#cb55-578" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'asymp'</span>)</span>
<span id="cb55-579"><a href="#cb55-579" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-580"><a href="#cb55-580" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb55-581"><a href="#cb55-581" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'L'</span></span>
<span id="cb55-582"><a href="#cb55-582" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-583"><a href="#cb55-583" aria-hidden="true" tabindex="-1"></a>cmeans.marginaleffects <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-584"><a href="#cb55-584" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb55-585"><a href="#cb55-585" aria-hidden="true" tabindex="-1"></a>    fit.lang.indicator</span>
<span id="cb55-586"><a href="#cb55-586" aria-hidden="true" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="st">'L'</span></span>
<span id="cb55-587"><a href="#cb55-587" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> <span class="st">'L'</span></span>
<span id="cb55-588"><a href="#cb55-588" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb55-589"><a href="#cb55-589" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-590"><a href="#cb55-590" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-591"><a href="#cb55-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-592"><a href="#cb55-592" aria-hidden="true" tabindex="-1"></a>cmeans.marginaleffects <span class="sc">%&gt;%</span> </span>
<span id="cb55-593"><a href="#cb55-593" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-594"><a href="#cb55-594" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-595"><a href="#cb55-595" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-596"><a href="#cb55-596" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-597"><a href="#cb55-597" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-598"><a href="#cb55-598" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-599"><a href="#cb55-599" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-600"><a href="#cb55-600" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-601"><a href="#cb55-601" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb55-602"><a href="#cb55-602" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-603"><a href="#cb55-603" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb55-604"><a href="#cb55-604" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-605"><a href="#cb55-605" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-606"><a href="#cb55-606" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-607"><a href="#cb55-607" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-608"><a href="#cb55-608" aria-hidden="true" tabindex="-1"></a>    L</span>
<span id="cb55-609"><a href="#cb55-609" aria-hidden="true" tabindex="-1"></a>    , estimate</span>
<span id="cb55-610"><a href="#cb55-610" aria-hidden="true" tabindex="-1"></a>    , <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span></span>
<span id="cb55-611"><a href="#cb55-611" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-612"><a href="#cb55-612" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>(</span>
<span id="cb55-613"><a href="#cb55-613" aria-hidden="true" tabindex="-1"></a>    , <span class="at">rowname_col =</span> <span class="st">'L'</span></span>
<span id="cb55-614"><a href="#cb55-614" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-615"><a href="#cb55-615" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-616"><a href="#cb55-616" aria-hidden="true" tabindex="-1"></a>  <span class="fu">emmeans</span>(fit.lang.indicator, <span class="sc">~</span> <span class="dv">1</span>)</span>
<span id="cb55-617"><a href="#cb55-617" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-618"><a href="#cb55-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-619"><a href="#cb55-619" aria-hidden="true" tabindex="-1"></a>gmean.emmeans <span class="sc">%&gt;%</span> </span>
<span id="cb55-620"><a href="#cb55-620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-621"><a href="#cb55-621" aria-hidden="true" tabindex="-1"></a>    , emmean</span>
<span id="cb55-622"><a href="#cb55-622" aria-hidden="true" tabindex="-1"></a>    , asymp.LCL</span>
<span id="cb55-623"><a href="#cb55-623" aria-hidden="true" tabindex="-1"></a>    , asymp.UCL</span>
<span id="cb55-624"><a href="#cb55-624" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-625"><a href="#cb55-625" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-626"><a href="#cb55-626" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-627"><a href="#cb55-627" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-628"><a href="#cb55-628" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-629"><a href="#cb55-629" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-630"><a href="#cb55-630" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-631"><a href="#cb55-631" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-632"><a href="#cb55-632" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-633"><a href="#cb55-633" aria-hidden="true" tabindex="-1"></a>      , asymp.LCL</span>
<span id="cb55-634"><a href="#cb55-634" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-635"><a href="#cb55-635" aria-hidden="true" tabindex="-1"></a>      , asymp.UCL</span>
<span id="cb55-636"><a href="#cb55-636" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-637"><a href="#cb55-637" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-638"><a href="#cb55-638" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-639"><a href="#cb55-639" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-640"><a href="#cb55-640" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span><span class="fu">starts_with</span>(<span class="st">'asymp'</span>)</span>
<span id="cb55-641"><a href="#cb55-641" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-642"><a href="#cb55-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb55-643"><a href="#cb55-643" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-644"><a href="#cb55-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">predictions</span>(</span>
<span id="cb55-645"><a href="#cb55-645" aria-hidden="true" tabindex="-1"></a>    fit.lang.indicator</span>
<span id="cb55-646"><a href="#cb55-646" aria-hidden="true" tabindex="-1"></a>    <span class="co"># without the next 2 lines</span></span>
<span id="cb55-647"><a href="#cb55-647" aria-hidden="true" tabindex="-1"></a>    <span class="co"># it returns the marginal avg</span></span>
<span id="cb55-648"><a href="#cb55-648" aria-hidden="true" tabindex="-1"></a>    <span class="co"># with the weights in the dataset</span></span>
<span id="cb55-649"><a href="#cb55-649" aria-hidden="true" tabindex="-1"></a>    , <span class="at">variables =</span> <span class="st">'L'</span></span>
<span id="cb55-650"><a href="#cb55-650" aria-hidden="true" tabindex="-1"></a>    , <span class="at">by =</span> T</span>
<span id="cb55-651"><a href="#cb55-651" aria-hidden="true" tabindex="-1"></a>    , <span class="at">re.form =</span> <span class="cn">NA</span></span>
<span id="cb55-652"><a href="#cb55-652" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-653"><a href="#cb55-653" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-654"><a href="#cb55-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-655"><a href="#cb55-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-656"><a href="#cb55-656" aria-hidden="true" tabindex="-1"></a>gmean.marginaleffects <span class="sc">%&gt;%</span> </span>
<span id="cb55-657"><a href="#cb55-657" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(</span>
<span id="cb55-658"><a href="#cb55-658" aria-hidden="true" tabindex="-1"></a>    is.numeric</span>
<span id="cb55-659"><a href="#cb55-659" aria-hidden="true" tabindex="-1"></a>    , round</span>
<span id="cb55-660"><a href="#cb55-660" aria-hidden="true" tabindex="-1"></a>    , <span class="at">digits =</span> <span class="dv">2</span></span>
<span id="cb55-661"><a href="#cb55-661" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-662"><a href="#cb55-662" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-663"><a href="#cb55-663" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">paste0</span>(</span>
<span id="cb55-664"><a href="#cb55-664" aria-hidden="true" tabindex="-1"></a>      <span class="st">'['</span></span>
<span id="cb55-665"><a href="#cb55-665" aria-hidden="true" tabindex="-1"></a>      , conf.low</span>
<span id="cb55-666"><a href="#cb55-666" aria-hidden="true" tabindex="-1"></a>      , <span class="st">', '</span></span>
<span id="cb55-667"><a href="#cb55-667" aria-hidden="true" tabindex="-1"></a>      , conf.high</span>
<span id="cb55-668"><a href="#cb55-668" aria-hidden="true" tabindex="-1"></a>      , <span class="st">']'</span></span>
<span id="cb55-669"><a href="#cb55-669" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-670"><a href="#cb55-670" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-671"><a href="#cb55-671" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb55-672"><a href="#cb55-672" aria-hidden="true" tabindex="-1"></a>    , estimate</span>
<span id="cb55-673"><a href="#cb55-673" aria-hidden="true" tabindex="-1"></a>    , <span class="st">`</span><span class="at">95% CI</span><span class="st">`</span></span>
<span id="cb55-674"><a href="#cb55-674" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-675"><a href="#cb55-675" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span>
<span id="cb55-676"><a href="#cb55-676" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'scripts/02-read-data.R'</span>)</span>
<span id="cb55-677"><a href="#cb55-677" aria-hidden="true" tabindex="-1"></a><span class="co"># change default contrast method</span></span>
<span id="cb55-678"><a href="#cb55-678" aria-hidden="true" tabindex="-1"></a><span class="co"># to sum-coding</span></span>
<span id="cb55-679"><a href="#cb55-679" aria-hidden="true" tabindex="-1"></a><span class="co"># R handles it under the hood</span></span>
<span id="cb55-680"><a href="#cb55-680" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">contrasts =</span> <span class="fu">c</span>(<span class="st">'contr.sum'</span>,<span class="st">'contr.sum'</span>))</span>
<span id="cb55-681"><a href="#cb55-681" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'scripts/02-read-data.R'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{urrestarazu-porta2025,
  author = {Urrestarazu-Porta, Inigo},
  title = {How to Fit Models with Categorical Predictors},
  date = {2025-07-09},
  langid = {en},
  abstract = {Blablabla this is the abstract. And this is more of the
    abstract}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-urrestarazu-porta2025" class="csl-entry quarto-appendix-citeas" role="listitem">
Urrestarazu-Porta, Inigo. 2025. <span>“How to Fit Models with
Categorical Predictors.”</span> July 9, 2025.
</div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>